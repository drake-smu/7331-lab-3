---
title: "Data Understanding"
output: html_document
---

```{r setup-2, include = F}
```

* [10 points] Describe the meaning and type of data (scale, values, etc.) for each
attribute in the data file. Verify data quality: Are there missing values? Duplicate data? Outliers? Are those mistakes? How do you deal with these problems?
* [10 points] Visualize the any important attributes appropriately. Important: Provide an interpretation for any charts or graphs.

Here we will discuss each attribute and give some description about its ranges.
 
 
#### Categorical Attributes
  * workclass - Which business sector do they work in?
  * education - What level of education received?
  * marital_status - What is their marriage history
  * occupation - What do they do for a living
  * relationship - Family member relation
  * race - What is the subjects race
  * gender - What is the subjects gender
  * native_country - Where is the subject originally from
  * income_bracket - Do they make over or under 50k/year
 
#### Continuous Attributes
  * age - How old is the subject?
  * fnlwgt - Sampling weight of observation
  * education_num - numerical encoding of education variable
  * capital_gain - income from investment sources, separate from wages/salary
  * capital_loss - losses from investment sources, separate from wages/salary
  * hours_per_week - How many hours a week did they work?
  
# Setup


First, lets go ahead and load up necessary libraries:

```{r libraries,echo=F, tidy=F, results='hold', comment='', message=F}

source("scripts/load-packages.R",echo=F,print.eval = T, 
       skip.echo = 7,
       spaced = F,prompt.echo='')

writeLines(c("Loaded Packages:",
             strwrap(
               toString(LabPackages), 
               width = 60,
               indent = 3,
               exdent = 3)
             ))
read_chunk('analysis/preprocessing.R')
read_chunk('analysis/Lab3Start.R')
```


Next, lets import our dataset

```{r dataimport}
```

## Data Quality Inspection

The first thing we must do is check and see if there are any NAs in our dataset, just to make sure to not mess up our analysis.

```{r dataqual}
```


## Data Cleaning

Looks like we are doing ok here. The next issue we have in the dataset, is
because of the way the csv was stored, some of the levels in our factors include
leading and trailing whitespace. This is highly undesirable, so we must clean it
up:

```{r factorclean}
```

Next, we need to reencode our data as factors. First, lets encode the education levels into factors with larger groups (for example 1st-12th grade should be no diploma, not a bunch of levels).

```{r edubin}
```

Then the the income brackets:

```{r incbrack}
```

Next, lets change the `?` levels to something more useful:

```{r questionmark, echo=1:4}
```


Next, lets remove the fnlwgt, education number, and capital gain/loss columns,
as they are unneeded. We also need to rename some columns to be easier for us,
and use the `cut` function to factorize our numeric variables.

```{r cleanup}
```

Lets see the results:

```{r preprocessers}
```

# EDA

We'd also like to get a quick feel for the dataset through some visulizations.

```{r EDAGraphs}
```

####-TODO-Discuss graphs

Finally, we can set up our dataset to be the proper data format for the Apriori algorithm:

```{r transact}
str(data$hoursperweek)
```

