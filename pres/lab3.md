---
title: "Lab 3: Association Rules"
author: "Che Cobb, Andy Heroy, Carson Drake, David Josephs"
date: "2019-08-11"
output: 
  html_document:
    toc: TRUE
    number_sections: true
    toc_float:
      collapsed: true
      smooth_scroll: false
    theme: paper
    df_print: paged
    keep_md: TRUE
---





# Project Overview

In our previous two projects, we spent a great deal of time predicting income on the US census dataset. What we would like to determine in this project, is to see if the variables we determined important in predicting high or low income are important factors in association rule mining as well. Please refer to our [second lab](https://github.com/drake-smu/7331-lab-2/blob/master/notebooks/lab_2-team_3.ipynb) for more information. Previously, we have discovered that important predictor variables in classifying income level were:

* marriage status

* Male or Female

* age

* Hours per week

* Job role

* Education

In this study we will examine the same dataset through association rule mining. We will not only attempt to affirm our previously chosen factors that are associated with low or high income, but also look deeper into the relationships, and examine what levels of each factor are associated with high or low income.

We will perform a small ARM analysis and a large one while identifying relationships between both high and low income brackets with all the factors present in the dataset. We will then dive deeper, and perform ARM analysis on the relationships between all the factors of our dataset with high income bracket, and low income bracket individually, in an attempt to determine precisely what factors are associated with what income bracket. Finally, we will demonstrate an implementation of a grid search for the apriori algorithm, and propose upper and lower bounds for digestibility of a set of association rules, and demonstrate our process of selecting the strongest set of rules that we feel can be easily understood. 

# Business Understanding

* [10 points] Describe the purpose of the data set you selected (i.e., why was
this data bcollected in the first place?). How will you measure the
effectiveness of a good algorithm? Why does your chosen validation method make
sense for this specific dataset and the stakeholders needs?

We chose this dataset from the UCI's machine learning repository for its categorical predictive attributes.  It contains 1994 Census data pulled from the US Census database.  The prediction task we've set forth is to predict if a person salary range is >50k in a 1994, based on the various categorical/numerical attributes in the census database. The link to the data source is below:

https://archive.ics.uci.edu/ml/datasets/census+income

The effectiveness of our algorithm will be determined by support, confidence and lift.  As these are the metrics that describe how strong a relationship between each element is with the other elements within each transaction.  Currently, there are no methods for cross validation of association rules, although there are some hard working individuals out there that are attempting to create such a tool.

- TODO - ADD DEFINITION FOR LIFT/CONFIDENCE/SUPPORT HERE


# Data Understanding
* [10 points] Describe the meaning and type of data (scale, values, etc.) for each
attribute in the data file. Verify data quality: Are there missing values? Duplicate data? Outliers? Are those mistakes? How do you deal with these problems?
* [10 points] Visualize the any important attributes appropriately. Important: Provide an interpretation for any charts or graphs.

Here we will discuss each attribute and give some description about its ranges.
 
 
#### Categorical Attributes
  * workclass - Which business sector do they work in?
  * education - What level of education received?
  * marital_status - What is their marriage history
  * occupation - What do they do for a living
  * relationship - Family member relation
  * race - What is the subjects race
  * gender - What is the subjects gender
  * native_country - Where is the subject originally from
  * income_bracket - Do they make over or under 50k/year
 
#### Continuous Attributes
  * age - How old is the subject?
  * fnlwgt - Sampling weight of observation
  * education_num - numerical encoding of education variable
  * capital_gain - income from investment sources, separate from wages/salary
  * capital_loss - losses from investment sources, separate from wages/salary
  * hours_per_week - How many hours a week did they work?
  
# Setup


First, lets go ahead and load up necessary libraries:


```
Loaded Packages:
   arules, arulesViz, forcats, dplyr, plotly, data.table,
   pander, knitr, skimr, lubridate, ggplot2, cowplot,
   foreach, doParallel
```




Next, lets import our dataset


```r
data <- read.csv("./data/adult-training.csv")
```

## Data Quality Inspection

The first thing we must do is check and see if there are any NAs in our dataset, just to make sure to not mess up our analysis.


```r
NA_sum <- sort(sapply(data, function(x) sum(is.na(x))), decreasing = TRUE)
data.frame((NA_sum))
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["X.NA_sum."],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"0","_rn_":"age"},{"1":"0","_rn_":"workclass"},{"1":"0","_rn_":"fnlwgt"},{"1":"0","_rn_":"education"},{"1":"0","_rn_":"education_num"},{"1":"0","_rn_":"marital_status"},{"1":"0","_rn_":"occupation"},{"1":"0","_rn_":"relationship"},{"1":"0","_rn_":"race"},{"1":"0","_rn_":"gender"},{"1":"0","_rn_":"capital_gain"},{"1":"0","_rn_":"capital_loss"},{"1":"0","_rn_":"hours_per_week"},{"1":"0","_rn_":"native_country"},{"1":"0","_rn_":"income_bracket"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>


## Data Cleaning

Looks like we are doing ok here. The next issue we have in the dataset, is
because of the way the csv was stored, some of the levels in our factors include
leading and trailing whitespace. This is highly undesirable, so we must clean it
up:


```r
GetFactors <- function(df) {
    return(names(Filter(is.factor, df)))
}
FixLevels <- function(x) {
    levels(x) <- trimws(levels(x))
    return(x)
}
data[GetFactors(data)] <- lapply(data[GetFactors(data)], FixLevels)
pander(lapply(data[GetFactors(data)], levels))
```



  * **workclass**: _?_, _Federal-gov_, _Local-gov_, _Never-worked_, _Private_, _Self-emp-inc_, _Self-emp-not-inc_, _State-gov_ and _Without-pay_
  * **education**: _10th_, _11th_, _12th_, _1st-4th_, _5th-6th_, _7th-8th_, _9th_, _Assoc-acdm_, _Assoc-voc_, _Bachelors_, _Doctorate_, _HS-grad_, _Masters_, _Preschool_, _Prof-school_ and _Some-college_
  * **marital_status**: _Divorced_, _Married-AF-spouse_, _Married-civ-spouse_, _Married-spouse-absent_, _Never-married_, _Separated_ and _Widowed_
  * **occupation**: _?_, _Adm-clerical_, _Armed-Forces_, _Craft-repair_, _Exec-managerial_, _Farming-fishing_, _Handlers-cleaners_, _Machine-op-inspct_, _Other-service_, _Priv-house-serv_, _Prof-specialty_, _Protective-serv_, _Sales_, _Tech-support_ and _Transport-moving_
  * **relationship**: _Husband_, _Not-in-family_, _Other-relative_, _Own-child_, _Unmarried_ and _Wife_
  * **race**: _Amer-Indian-Eskimo_, _Asian-Pac-Islander_, _Black_, _Other_ and _White_
  * **gender**: _Female_ and _Male_
  * **native_country**: _?_, _Cambodia_, _Canada_, _China_, _Columbia_, _Cuba_, _Dominican-Republic_, _Ecuador_, _El-Salvador_, _England_, _France_, _Germany_, _Greece_, _Guatemala_, _Haiti_, _Holand-Netherlands_, _Honduras_, _Hong_, _Hungary_, _India_, _Iran_, _Ireland_, _Italy_, _Jamaica_, _Japan_, _Laos_, _Mexico_, _Nicaragua_, _Outlying-US(Guam-USVI-etc)_, _Peru_, _Philippines_, _Poland_, _Portugal_, _Puerto-Rico_, _Scotland_, _South_, _Taiwan_, _Thailand_, _Trinadad&Tobago_, _United-States_, _Vietnam_ and _Yugoslavia_
  * **income_bracket**: _<=50K_ and _>50K_

<!-- end of list -->

Next, we need to reencode our data as factors. First, lets encode the education levels into factors with larger groups (for example 1st-12th grade should be no diploma, not a bunch of levels).


```r
data$education <- fct_collapse(data$education, `No Diploma` = c("1st-4th", "5th-6th", 
    "7th-8th", "9th", "10th", "11th", "12th", "Preschool"), Associates = c("Assoc-acdm", 
    "Assoc-voc"), Diploma = c("Some-college", "HS-grad"))
```

Then the the income brackets:


```r
data$income_bracket <- fct_collapse(data$income_bracket, small = "<=50K", large = ">50K")
```

Next, lets change the `?` levels to something more useful:


```r
levels(data$workclass)[levels(data$workclass) == "?"] <- "Other"
levels(data$occupation)[levels(data$occupation) == "?"] <- "Other-service"
levels(data$native_country)[levels(data$native_country) == "?"] <- "Other"
data[GetFactors(data)] <- lapply(data[GetFactors(data)], FixLevels)
pander(lapply(data[GetFactors(data)], levels))
```



  * **workclass**: _Other_, _Federal-gov_, _Local-gov_, _Never-worked_, _Private_, _Self-emp-inc_, _Self-emp-not-inc_, _State-gov_ and _Without-pay_
  * **education**: _No Diploma_, _Associates_, _Bachelors_, _Doctorate_, _Diploma_, _Masters_ and _Prof-school_
  * **marital_status**: _Divorced_, _Married-AF-spouse_, _Married-civ-spouse_, _Married-spouse-absent_, _Never-married_, _Separated_ and _Widowed_
  * **occupation**: _Other-service_, _Adm-clerical_, _Armed-Forces_, _Craft-repair_, _Exec-managerial_, _Farming-fishing_, _Handlers-cleaners_, _Machine-op-inspct_, _Priv-house-serv_, _Prof-specialty_, _Protective-serv_, _Sales_, _Tech-support_ and _Transport-moving_
  * **relationship**: _Husband_, _Not-in-family_, _Other-relative_, _Own-child_, _Unmarried_ and _Wife_
  * **race**: _Amer-Indian-Eskimo_, _Asian-Pac-Islander_, _Black_, _Other_ and _White_
  * **gender**: _Female_ and _Male_
  * **native_country**: _Other_, _Cambodia_, _Canada_, _China_, _Columbia_, _Cuba_, _Dominican-Republic_, _Ecuador_, _El-Salvador_, _England_, _France_, _Germany_, _Greece_, _Guatemala_, _Haiti_, _Holand-Netherlands_, _Honduras_, _Hong_, _Hungary_, _India_, _Iran_, _Ireland_, _Italy_, _Jamaica_, _Japan_, _Laos_, _Mexico_, _Nicaragua_, _Outlying-US(Guam-USVI-etc)_, _Peru_, _Philippines_, _Poland_, _Portugal_, _Puerto-Rico_, _Scotland_, _South_, _Taiwan_, _Thailand_, _Trinadad&Tobago_, _United-States_, _Vietnam_ and _Yugoslavia_
  * **income_bracket**: _small_ and _large_

<!-- end of list -->


Next, lets remove the fnlwgt, education number, and capital gain and loss columns, as they are unneeded. We also need to rename some columns to be easier for us, and use the `cut` function to factorize our numeric variables


```r
data <- data[, -c(3, 5, 11:12)]
data$age <- cut(data$age, breaks = c(15, 25, 45, 65, 100), labels = c("Young", 
    "Middleaged", "Senior", "Retired"))
data$hours_per_week <- cut(data$hours_per_week, breaks = c(0, 20, 40, 60, 80), 
    labels = c("part-time", "full-time", "hard-working", "need-a-life"))
library(magrittr)
data %>% skim_to_list() %$% factor %>% select(-c("ordered", "missing", "complete")) %>% 
    kable
```

    variable         n      n_unique                     top_counts                  
----------------  -------  ----------  ----------------------------------------------
      age          32561       4        Mid: 16523, Sen: 8469, You: 6411, Ret: 1158  
   education       32561       7        Dip: 17792, Bac: 5355, No : 4253, Ass: 2449  
     gender        32561       2               Mal: 21790, Fem: 10771, NA: 0         
 hours_per_week    32561       4         ful: 20052, har: 8471, par: 2928, nee: 902  
 income_bracket    32561       2                sma: 24720, lar: 7841, NA: 0         
 marital_status    32561       7        Mar: 14976, Nev: 10683, Div: 4443, Sep: 1025 
 native_country    32561       42         Uni: 29170, Mex: 643, Oth: 583, Phi: 198   
   occupation      32561       14        Oth: 5138, Pro: 4140, Cra: 4099, Exe: 4066  
      race         32561       5         Whi: 27816, Bla: 3124, Asi: 1039, Ame: 311  
  relationship     32561       6        Hus: 13193, Not: 8305, Own: 5068, Unm: 3446  
   workclass       32561       9        Pri: 22696, Sel: 2541, Loc: 2093, Oth: 1836  

Lets see the results:



# EDA

We'd also like to get a quick feel for the dataset through some visulizations.


```r
p1 <- ggplot(data) + geom_bar(aes(x = age, fill = income_bracket), stat = "count") + 
    labs(x = "Age", y = "Count", title = "Age by Income", subtitle = "Histogram plot")
p1
```

<img src="fig/EDAGraph1-1.png" style="display: block; margin: auto;" />

Our first plot shows us a quick histogram of age groups and their income group.  Not surprisingly, the majority of the "large" income group is in middleaged and senior groups supporting the common knowledge that as you get older, you should be making more money. 


```r
p2 <- ggplot(data, aes(x = education, fill = income_bracket, color = income_bracket)) + 
    geom_bar(alpha = 0.9, position = "fill") + coord_flip() + labs(x = "Education", 
    y = "Proportion", title = "Income bias based on Education", subtitle = "Stacked bar plot")
p2
```

<img src="fig/EDAGraph2-1.png" style="display: block; margin: auto;" />

Our next plot is a stacked bar chart of income group by density of education.  We see here that higher education (Bachelors, Masters, Doctorate) yields a higher proportions of the "large" income bracket.  Professional school also about equal with Docotorate suggesting specilaized trades and higher education are the best bet for making over 50k a year. 


```r
p3 <- ggplot(data, aes(x = marital_status, fill = income_bracket, color = income_bracket)) + 
    geom_bar(alpha = 0.9, position = "fill") + coord_flip() + labs(x = "Marital Status", 
    y = "Proportion", title = "Income bias based on Marital status", subtitle = "Stacked bar plot")
p3
```

<img src="fig/EDAGraph3-1.png" style="display: block; margin: auto;" />

Using the similar plot style as above, we'll now look at income group by density of Marital Status.  Which too no surprise to us researchers, married couples have a distinct advantage over those that are unmarried.  In fact, the next highest categories are Widowed and Divorced.  Which means, if you want to make more money in life, you should at least give marriage a try. 


```r
p4 <- ggplot(data, aes(x = occupation, fill = income_bracket, color = income_bracket)) + 
    geom_bar(alpha = 0.9, position = "fill") + coord_flip() + labs(x = "Occupation Status", 
    y = "Proportion", title = "Income bias based on Occupation status", subtitle = "Stacked bar plot")
p4
```

<img src="fig/EDAGraph4-1.png" style="display: block; margin: auto;" />

Next, we'll compare income groups by density of Occupation.  This revealed a few obvious, but also a few interesting results.  Exec-managerial and Prof-specialty were the highest categories to no one's surprise.  Protective-serv, transport-moving and tech-support also show good density for making over 50k.  Some of the lowest categories thought were Armed-Forces, and house-cleaning/services.  


```r
p6 <- ggplot(data, aes(occupation)) + geom_bar(aes(fill = education), width = 0.5) + 
    theme(axis.text.x = element_text(angle = 60, vjust = 0.5)) + labs(title = "Histogram of occupation with education binning", 
    subtitle = "Occupation and Educational")
p6
```

<img src="fig/EDAGraph6-1.png" style="display: block; margin: auto;" />

Lastly, we combine education and ocupation to see if we can notice any particular relationships between the two groups.  What kind of educations to the people with large incomes have?  Exec-managerial show a large amount of bachelor's and masters degree's, which means, more school definitely helps in that occupation.  Prof-specialty shows the best range of educational sectors respresented but we found it interesting that prof-school wasn't a larger representation here.  This is probably due to prof-specialty being a wider category than some in that you can be a professional in alot of different occupational sectors.

Armed-forces have an extremely low amount of education information which also makes sense as most are recruited right out of high school.  We would have expected to see a higher amount of Diploma's given out in this group, but perhaps the information is just missing from this dataset. 

Finally, we can set up our dataset as a transactional dataset to be in the proper data format for the Apriori algorithm:  


```r
data <- as(data, "transactions")
summary(data)
```

```
#> transactions as itemMatrix in sparse format with
#>  32561 rows (elements/itemsets/transactions) and
#>  102 columns (items) and a density of 0.1077805 
#> 
#> most frequent items:
#> native_country=United-States                   race=White 
#>                        29170                        27816 
#>         income_bracket=small            workclass=Private 
#>                        24720                        22696 
#>                  gender=Male                      (Other) 
#>                        21790                       231771 
#> 
#> element (itemset/transaction) length distribution:
#> sizes
#>    10    11 
#>   208 32353 
#> 
#>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#>   10.00   11.00   11.00   10.99   11.00   11.00 
#> 
#> includes extended item information - examples:
#>           labels variables     levels
#> 1      age=Young       age      Young
#> 2 age=Middleaged       age Middleaged
#> 3     age=Senior       age     Senior
#> 
#> includes extended transaction information - examples:
#>   transactionID
#> 1             1
#> 2             2
#> 3             3
```


# Modeling and Evaluation

* Different tasks will require different evaluation methods. Be as thorough as possible when analyzing the data you have chosen and use visualizations of the results to explain the performance and expected outcomes whenever possible. Guide the reader through your analysis with plenty of discussion of the results. For this task, we chose Option B: Association Rule Mining.

Option B: Association Rule Mining

• Create frequent itemsets and association rules.

• Use tables/visualization to discuss the found results.

• Use several measure for evaluating how interesting different rules are.

• Describe your results. What findings are the most compelling and why?

Before we begin with our analysis, lets check out the rule frequencies within the dataset. We are looking for rules with `support >= .2`


```r
itemFrequencyPlot(data, support = 0.2)
```

<img src="fig/rulefreq-1.png" style="display: block; margin: auto;" />


# Rule mining

Next, lets mine some rules with the apriori algorithm, and then clean up redundant rules. We are still sorting out what to set the minsupp and minconf to.


```r
zerules <- apriori(data, parameter = list(minlen = 2, supp = 0.2, conf = 0.15), 
    appearance = list(rhs = c("income_bracket=small", "income_bracket=large"), 
        default = "lhs"), control = list(verbose = F))
length(zerules)
```

```
#> [1] 91
```

```r
redundant <- is.redundant(zerules)
zerules.pruned <- zerules[redundant == FALSE]
rulesorted <- sort(zerules.pruned, by = "lift", decreasing = TRUE)
length(rulesorted)
```

```
#> [1] 25
```

## Rule quality and inspection

Next, let us inspect the rules, and examine their quality


```r
(quality(rulesorted))
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["support"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["confidence"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lift"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["count"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.2055219","2":"0.4468483","3":"1.8556086","4":"6692","_rn_":"1"},{"1":"0.2072725","2":"0.9709394","3":"1.2789142","4":"6749","_rn_":"19"},{"1":"0.2046006","2":"0.3057366","3":"1.2696198","4":"6662","_rn_":"2"},{"1":"0.2413317","2":"0.9599316","3":"1.2644147","4":"7858","_rn_":"20"},{"1":"0.3130125","2":"0.9540391","3":"1.2566532","4":"10192","_rn_":"6"},{"1":"0.2157796","2":"0.9063467","3":"1.1938332","4":"7026","_rn_":"24"},{"1":"0.2076410","2":"0.9039979","3":"1.1907393","4":"6761","_rn_":"23"},{"1":"0.2287706","2":"0.8969296","3":"1.1814289","4":"7449","_rn_":"5"},{"1":"0.2945855","2":"0.8905394","3":"1.1730119","4":"9592","_rn_":"7"},{"1":"0.2311047","2":"0.8710499","3":"1.1473404","4":"7525","_rn_":"66"},{"1":"0.3052425","2":"0.8571059","3":"1.1289735","4":"9939","_rn_":"38"},{"1":"0.3326679","2":"0.8413857","3":"1.1082670","4":"10832","_rn_":"40"},{"1":"0.3704125","2":"0.8338057","3":"1.0982827","4":"12061","_rn_":"44"},{"1":"0.4523817","2":"0.8279002","3":"1.0905040","4":"14730","_rn_":"11"},{"1":"0.2058905","2":"0.2616604","3":"1.0865863","4":"6704","_rn_":"17"},{"1":"0.4994318","2":"0.8109914","3":"1.0682319","4":"16262","_rn_":"12"},{"1":"0.2185744","2":"0.2558599","3":"1.0624991","4":"7117","_rn_":"3"},{"1":"0.5446086","2":"0.7813271","3":"1.0291582","4":"17733","_rn_":"14"},{"1":"0.2202328","2":"0.2458348","3":"1.0208680","4":"7171","_rn_":"4"},{"1":"0.6756242","2":"0.7541652","3":"0.9933808","4":"21999","_rn_":"16"},{"1":"0.6356991","2":"0.7441401","3":"0.9801758","4":"20699","_rn_":"15"},{"1":"0.3733915","2":"0.7358228","3":"0.9692203","4":"12158","_rn_":"10"},{"1":"0.4646049","2":"0.6942634","3":"0.9144786","4":"15128","_rn_":"13"},{"1":"0.2544148","2":"0.5531517","3":"0.7286073","4":"8284","_rn_":"9"},{"1":"0.2234268","2":"0.5514288","3":"0.7263379","4":"7275","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

```r
inspectDT(rulesorted, caption = "Association Rules")
```

<!--html_preserve--><div id="htmlwidget-a99327b7b923aea873bf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a99327b7b923aea873bf">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.204600595804797\" data-max=\"0.675624213015571\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.245834761741515\" data-max=\"0.970939433175083\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.726337895059089\" data-max=\"1.85560862009577\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"6662\" data-max=\"21999\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Association Rules<\/caption>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]"],["{marital_status=Married-civ-spouse}","{marital_status=Never-married,hours_per_week=full-time}","{gender=Male}","{workclass=Private,marital_status=Never-married}","{marital_status=Never-married}","{workclass=Private,gender=Female}","{gender=Female,hours_per_week=full-time}","{relationship=Not-in-family}","{gender=Female}","{workclass=Private,education=Diploma,hours_per_week=full-time}","{education=Diploma,hours_per_week=full-time}","{workclass=Private,education=Diploma}","{workclass=Private,hours_per_week=full-time}","{education=Diploma}","{race=White,native_country=United-States}","{hours_per_week=full-time}","{race=White}","{workclass=Private}","{native_country=United-States}","{native_country=United-States}","{race=White}","{age=Middleaged}","{gender=Male}","{marital_status=Married-civ-spouse}","{relationship=Husband}"],["{income_bracket=large}","{income_bracket=small}","{income_bracket=large}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=large}","{income_bracket=small}","{income_bracket=large}","{income_bracket=small}","{income_bracket=large}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}"],[0.205521943429256,0.207272503915727,0.204600595804797,0.241331654433218,0.313012499616105,0.215779613648229,0.207641042965511,0.228770615153097,0.294585547126931,0.231104695801726,0.30524246798317,0.332667915604558,0.370412456619883,0.452381683609226,0.205890482479039,0.499431835631584,0.218574368109088,0.544608580817542,0.220232793833113,0.675624213015571,0.635699149289027,0.373391480605632,0.464604895427045,0.254414790700531,0.223426798931237],[0.446848290598291,0.970939433175083,0.305736576411198,0.959931590520401,0.954039127585884,0.906346749226006,0.903997860676561,0.896929560505719,0.890539411382416,0.871049890033569,0.857105898585719,0.841385738698151,0.833805737988248,0.827900179856115,0.261660356738613,0.810991422302015,0.255859936727064,0.781327106097991,0.245834761741515,0.754165238258485,0.744140063272936,0.735822792471101,0.694263423588802,0.553151709401709,0.551428787993633],[1.85560862009577,1.27891419432095,1.26961977611593,1.2644147459116,1.25665323759401,1.19383319181019,1.1907392532965,1.18142894092341,1.17301188406241,1.14734043160935,1.12897350986447,1.10826703227146,1.09828271175709,1.09050395454268,1.0865862614164,1.06823186495048,1.06249909447391,1.02915824844889,1.02086796034504,0.993380838306413,0.980175752436492,0.969220305244803,0.914478613894619,0.728607314313473,0.726337895059089],[6692,6749,6662,7858,10192,7026,6761,7449,9592,7525,9939,10832,12061,14730,6704,16262,7117,17733,7171,21999,20699,12158,15128,8284,7275]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 7, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->

## Plots

### Scatterplot


```r
plot(rulesorted, method = "scatterplot", measure = c("support", "lift"), shading = "confidence", 
    engine = "htmlwidget")
```

<div class="figure" style="text-align: center">
<!--html_preserve--><div id="htmlwidget-f91ad52cf8fefa83d0b0" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f91ad52cf8fefa83d0b0">{"x":{"visdat":{"3dc767d175b7":["function () ","plotlyVisDat"]},"cur_data":"3dc767d175b7","attrs":{"3dc767d175b7":{"x":[0.220232793833113,0.218574368109088,0.205890482479039,0.204600595804797,0.205521943429256,0.223426798931237,0.254414790700531,0.464604895427045,0.373391480605632,0.635699149289027,0.675624213015571,0.544608580817542,0.499431835631584,0.452381683609226,0.370412456619883,0.332667915604558,0.30524246798317,0.231104695801726,0.294585547126931,0.228770615153097,0.207641042965511,0.215779613648229,0.313012499616105,0.241331654433218,0.207272503915727],"y":[1.02086796034504,1.06249909447391,1.0865862614164,1.26961977611593,1.85560862009577,0.726337895059089,0.728607314313473,0.914478613894619,0.969220305244803,0.980175752436492,0.993380838306413,1.02915824844889,1.06823186495048,1.09050395454268,1.09828271175709,1.10826703227146,1.12897350986447,1.14734043160935,1.17301188406241,1.18142894092341,1.1907392532965,1.19383319181019,1.25665323759401,1.2644147459116,1.27891419432095],"hoverinfo":"text","text":["[19]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.22 <BR>lift: 1.02 <BR>confidence: 0.246","[17]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.219 <BR>lift: 1.06 <BR>confidence: 0.256","[15]<BR> <B>{race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>lift: 1.09 <BR>confidence: 0.262","[3]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.205 <BR>lift: 1.27 <BR>confidence: 0.306","[1]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>lift: 1.86 <BR>confidence: 0.447","[25]<BR> <B>{relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.223 <BR>lift: 0.726 <BR>confidence: 0.551","[24]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.254 <BR>lift: 0.729 <BR>confidence: 0.553","[23]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.465 <BR>lift: 0.914 <BR>confidence: 0.694","[22]<BR> <B>{age=Middleaged}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.373 <BR>lift: 0.969 <BR>confidence: 0.736","[21]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.636 <BR>lift: 0.98 <BR>confidence: 0.744","[20]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.676 <BR>lift: 0.993 <BR>confidence: 0.754","[18]<BR> <B>{workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.545 <BR>lift: 1.03 <BR>confidence: 0.781","[16]<BR> <B>{hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.499 <BR>lift: 1.07 <BR>confidence: 0.811","[14]<BR> <B>{education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.452 <BR>lift: 1.09 <BR>confidence: 0.828","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.37 <BR>lift: 1.1 <BR>confidence: 0.834","[12]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.333 <BR>lift: 1.11 <BR>confidence: 0.841","[11]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.305 <BR>lift: 1.13 <BR>confidence: 0.857","[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.231 <BR>lift: 1.15 <BR>confidence: 0.871","[9]<BR> <B>{gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.295 <BR>lift: 1.17 <BR>confidence: 0.891","[8]<BR> <B>{relationship=Not-in-family}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.229 <BR>lift: 1.18 <BR>confidence: 0.897","[7]<BR> <B>{gender=Female,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.208 <BR>lift: 1.19 <BR>confidence: 0.904","[6]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.216 <BR>lift: 1.19 <BR>confidence: 0.906","[5]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.313 <BR>lift: 1.26 <BR>confidence: 0.954","[4]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.241 <BR>lift: 1.26 <BR>confidence: 0.96","[2]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.207 <BR>lift: 1.28 <BR>confidence: 0.971"],"mode":"markers","marker":[],"color":[0.245834761741515,0.255859936727064,0.261660356738613,0.305736576411198,0.446848290598291,0.551428787993633,0.553151709401709,0.694263423588802,0.735822792471101,0.744140063272936,0.754165238258485,0.781327106097991,0.810991422302015,0.827900179856115,0.833805737988248,0.841385738698151,0.857105898585719,0.871049890033569,0.890539411382416,0.896929560505719,0.903997860676561,0.906346749226006,0.954039127585884,0.959931590520401,0.970939433175083],"colors":["#EEEEEEFF","#EE0000FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"support"},"yaxis":{"domain":[0,1],"automargin":true,"title":"lift"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.220232793833113,0.218574368109088,0.205890482479039,0.204600595804797,0.205521943429256,0.223426798931237,0.254414790700531,0.464604895427045,0.373391480605632,0.635699149289027,0.675624213015571,0.544608580817542,0.499431835631584,0.452381683609226,0.370412456619883,0.332667915604558,0.30524246798317,0.231104695801726,0.294585547126931,0.228770615153097,0.207641042965511,0.215779613648229,0.313012499616105,0.241331654433218,0.207272503915727],"y":[1.02086796034504,1.06249909447391,1.0865862614164,1.26961977611593,1.85560862009577,0.726337895059089,0.728607314313473,0.914478613894619,0.969220305244803,0.980175752436492,0.993380838306413,1.02915824844889,1.06823186495048,1.09050395454268,1.09828271175709,1.10826703227146,1.12897350986447,1.14734043160935,1.17301188406241,1.18142894092341,1.1907392532965,1.19383319181019,1.25665323759401,1.2644147459116,1.27891419432095],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[19]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.22 <BR>lift: 1.02 <BR>confidence: 0.246","[17]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.219 <BR>lift: 1.06 <BR>confidence: 0.256","[15]<BR> <B>{race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>lift: 1.09 <BR>confidence: 0.262","[3]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.205 <BR>lift: 1.27 <BR>confidence: 0.306","[1]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>lift: 1.86 <BR>confidence: 0.447","[25]<BR> <B>{relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.223 <BR>lift: 0.726 <BR>confidence: 0.551","[24]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.254 <BR>lift: 0.729 <BR>confidence: 0.553","[23]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.465 <BR>lift: 0.914 <BR>confidence: 0.694","[22]<BR> <B>{age=Middleaged}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.373 <BR>lift: 0.969 <BR>confidence: 0.736","[21]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.636 <BR>lift: 0.98 <BR>confidence: 0.744","[20]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.676 <BR>lift: 0.993 <BR>confidence: 0.754","[18]<BR> <B>{workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.545 <BR>lift: 1.03 <BR>confidence: 0.781","[16]<BR> <B>{hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.499 <BR>lift: 1.07 <BR>confidence: 0.811","[14]<BR> <B>{education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.452 <BR>lift: 1.09 <BR>confidence: 0.828","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.37 <BR>lift: 1.1 <BR>confidence: 0.834","[12]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.333 <BR>lift: 1.11 <BR>confidence: 0.841","[11]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.305 <BR>lift: 1.13 <BR>confidence: 0.857","[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.231 <BR>lift: 1.15 <BR>confidence: 0.871","[9]<BR> <B>{gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.295 <BR>lift: 1.17 <BR>confidence: 0.891","[8]<BR> <B>{relationship=Not-in-family}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.229 <BR>lift: 1.18 <BR>confidence: 0.897","[7]<BR> <B>{gender=Female,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.208 <BR>lift: 1.19 <BR>confidence: 0.904","[6]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.216 <BR>lift: 1.19 <BR>confidence: 0.906","[5]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.313 <BR>lift: 1.26 <BR>confidence: 0.954","[4]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.241 <BR>lift: 1.26 <BR>confidence: 0.96","[2]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.207 <BR>lift: 1.28 <BR>confidence: 0.971"],"mode":"markers","type":"scatter","marker":{"colorbar":{"title":"","ticklen":2},"cmin":0.245834761741515,"cmax":0.970939433175083,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666667","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[0.245834761741515,0.255859936727064,0.261660356738613,0.305736576411198,0.446848290598291,0.551428787993633,0.553151709401709,0.694263423588802,0.735822792471101,0.744140063272936,0.754165238258485,0.781327106097991,0.810991422302015,0.827900179856115,0.833805737988248,0.841385738698151,0.857105898585719,0.871049890033569,0.890539411382416,0.896929560505719,0.903997860676561,0.906346749226006,0.954039127585884,0.959931590520401,0.970939433175083],"line":{"colorbar":{"title":"","ticklen":2},"cmin":0.245834761741515,"cmax":0.970939433175083,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666667","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[0.245834761741515,0.255859936727064,0.261660356738613,0.305736576411198,0.446848290598291,0.551428787993633,0.553151709401709,0.694263423588802,0.735822792471101,0.744140063272936,0.754165238258485,0.781327106097991,0.810991422302015,0.827900179856115,0.833805737988248,0.841385738698151,0.857105898585719,0.871049890033569,0.890539411382416,0.896929560505719,0.903997860676561,0.906346749226006,0.954039127585884,0.959931590520401,0.970939433175083]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.204600595804797,0.675624213015571],"y":[0.726337895059089,1.85560862009577],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"confidence","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":0.245834761741515,"cmax":0.970939433175083,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666667","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":true,"color":[0.245834761741515,0.970939433175083],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
<p class="caption">Scatter Plot</p>
</div>

#### Discussion

This plot shows us each rule, with x axis as support and Y axis as lift. They are colored by confidence. This makes a nice little view of which rules were made from the most data. These may not always be the most interesting rules, but they are definitely the strongest ones. From looking at this, we can note a few strong, interesting associations.

* Females are associated with low income bracket
  * Conversely, being a male is (with low confidence) associated with a high income bracket. 

* Not being married is strongly associated with a low income bracket

* High school diploma only is associated with low income

* Private/housekeeping/server jobs are associated with low income

* No family is also associated with low income

These strong rules are by no means earth-shattering, but they do tell us that we are looking in the right direction, as they agree with the (sometimes unfortunate) realities of the world we live in.


### Balloon plot


```r
plot(rulesorted, method = "graph", measure = "confidence", shading = "lift", 
    engine = "htmlwidget")
```

<div class="figure" style="text-align: center">
<!--html_preserve--><div id="htmlwidget-536e2d0250186f303928" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-536e2d0250186f303928">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"label":["marital_status=Married-civ-spouse","marital_status=Never-married","hours_per_week=full-time","gender=Male","workclass=Private","gender=Female","relationship=Not-in-family","education=Diploma","race=White","native_country=United-States","age=Middleaged","relationship=Husband","income_bracket=large","income_bracket=small","rule 1","rule 2","rule 3","rule 4","rule 5","rule 6","rule 7","rule 8","rule 9","rule 10","rule 11","rule 12","rule 13","rule 14","rule 15","rule 16","rule 17","rule 18","rule 19","rule 20","rule 21","rule 22","rule 23","rule 24","rule 25"],"group":["item","item","item","item","item","item","item","item","item","item","item","item","item","item","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule"],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,28.4447816168069,100,9.17851530396862,98.4970770900441,97.6925672675328,91.1810308733552,90.8603323927685,89.895283146113,89.0228232266971,86.3618796559968,84.4580784425694,82.311773377685,81.2768606266792,80.4705628904845,3.16070033256737,78.1619761942404,2.36875731555705,74.111847406086,1,70.4033829290957,69.0346256135386,67.8990518931904,62.2248676251271,42.9586013122888,42.7233673852168],"color":["#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#EE1B1B","#EE9999","#EE9999","#EE9B9B","#EE9B9B","#EEA4A4","#EEA4A4","#EEA5A5","#EEA5A5","#EEA9A9","#EEABAB","#EEAEAE","#EEB0B0","#EEB0B0","#EEB0B0","#EEB3B3","#EEB3B3","#EEB7B7","#EEB8B8","#EEBCBC","#EEBDBD","#EEBFBF","#EEC4C4","#EEDBDB","#EEDCDC"],"title":["marital_status=Married-civ-spouse","marital_status=Never-married","hours_per_week=full-time","gender=Male","workclass=Private","gender=Female","relationship=Not-in-family","education=Diploma","race=White","native_country=United-States","age=Middleaged","relationship=Husband","income_bracket=large","income_bracket=small","<B>[1]<\/B><BR><B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B><BR><BR>support = 0.206<BR>confidence = 0.447<BR>lift = 1.86<BR>count = 6690<BR>order = 2","<B>[2]<\/B><BR><B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.207<BR>confidence = 0.971<BR>lift = 1.28<BR>count = 6750<BR>order = 3","<B>[3]<\/B><BR><B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B><BR><BR>support = 0.205<BR>confidence = 0.306<BR>lift = 1.27<BR>count = 6660<BR>order = 2","<B>[4]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.241<BR>confidence = 0.96<BR>lift = 1.26<BR>count = 7860<BR>order = 3","<B>[5]<\/B><BR><B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.313<BR>confidence = 0.954<BR>lift = 1.26<BR>count = 10200<BR>order = 2","<B>[6]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.216<BR>confidence = 0.906<BR>lift = 1.19<BR>count = 7030<BR>order = 3","<B>[7]<\/B><BR><B>{gender=Female,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.208<BR>confidence = 0.904<BR>lift = 1.19<BR>count = 6760<BR>order = 3","<B>[8]<\/B><BR><B>{relationship=Not-in-family}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.229<BR>confidence = 0.897<BR>lift = 1.18<BR>count = 7450<BR>order = 2","<B>[9]<\/B><BR><B>{gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.295<BR>confidence = 0.891<BR>lift = 1.17<BR>count = 9590<BR>order = 2","<B>[10]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.231<BR>confidence = 0.871<BR>lift = 1.15<BR>count = 7520<BR>order = 4","<B>[11]<\/B><BR><B>{education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.305<BR>confidence = 0.857<BR>lift = 1.13<BR>count = 9940<BR>order = 3","<B>[12]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.333<BR>confidence = 0.841<BR>lift = 1.11<BR>count = 10800<BR>order = 3","<B>[13]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.37<BR>confidence = 0.834<BR>lift = 1.1<BR>count = 12100<BR>order = 3","<B>[14]<\/B><BR><B>{education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.452<BR>confidence = 0.828<BR>lift = 1.09<BR>count = 14700<BR>order = 2","<B>[15]<\/B><BR><B>{race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B><BR><BR>support = 0.206<BR>confidence = 0.262<BR>lift = 1.09<BR>count = 6700<BR>order = 3","<B>[16]<\/B><BR><B>{hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.499<BR>confidence = 0.811<BR>lift = 1.07<BR>count = 16300<BR>order = 2","<B>[17]<\/B><BR><B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B><BR><BR>support = 0.219<BR>confidence = 0.256<BR>lift = 1.06<BR>count = 7120<BR>order = 2","<B>[18]<\/B><BR><B>{workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.545<BR>confidence = 0.781<BR>lift = 1.03<BR>count = 17700<BR>order = 2","<B>[19]<\/B><BR><B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B><BR><BR>support = 0.22<BR>confidence = 0.246<BR>lift = 1.02<BR>count = 7170<BR>order = 2","<B>[20]<\/B><BR><B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.676<BR>confidence = 0.754<BR>lift = 0.993<BR>count = 22000<BR>order = 2","<B>[21]<\/B><BR><B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.636<BR>confidence = 0.744<BR>lift = 0.98<BR>count = 20700<BR>order = 2","<B>[22]<\/B><BR><B>{age=Middleaged}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.373<BR>confidence = 0.736<BR>lift = 0.969<BR>count = 12200<BR>order = 2","<B>[23]<\/B><BR><B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.465<BR>confidence = 0.694<BR>lift = 0.914<BR>count = 15100<BR>order = 2","<B>[24]<\/B><BR><B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.254<BR>confidence = 0.553<BR>lift = 0.729<BR>count = 8280<BR>order = 2","<B>[25]<\/B><BR><B>{relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.223<BR>confidence = 0.551<BR>lift = 0.726<BR>count = 7280<BR>order = 2"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],"x":[0.627840829991523,-0.915092567452162,-0.438715722671105,0.32671735794863,-0.702416285737263,-0.538228923325102,-1,-0.47120647320981,0.661734080545518,0.53365403330792,0.178711250173519,-0.211137103113544,0.932610918360382,-0.316497458537843,0.924033501368323,-0.657003427183167,0.682931236835264,-0.770619055423579,-0.687209669925839,-0.585475365265952,-0.426470603934943,-0.724878488111886,-0.365199363093878,-0.499817998419637,-0.3519262371054,-0.552342184094384,-0.558705835123603,-0.299237512216084,0.781217817769407,-0.207526226539411,1,-0.694055951447511,0.822921287175408,0.12949064803521,0.214866869135097,-0.0188567694657295,0.00150627500573219,0.19537886230318,-0.235063214447726],"y":[-0.0592641671506617,-0.353928735875566,-0.0165502117258087,-0.884943018116614,-0.0202548744836085,0.558976091541723,0.695495523539588,-0.503003736331128,-0.383021188715132,-0.651546515700746,0.761343575576672,1,-0.7201145483909,-0.011478054464373,-0.316849809618755,-0.18402067401871,-1,-0.154233896706648,-0.352150892222493,0.273053993559372,0.284745858150023,0.413532467126095,0.427090443742597,-0.201907958241021,-0.279926667460678,-0.2998306218733,0.0719345381463146,-0.433860708979836,-0.624981669168146,0.115112490927672,-0.513478074572331,0.134783513726803,-0.882070932423637,-0.364389413258287,-0.183760105894247,0.427848451287196,-0.523321963282282,0.0263458581930482,0.582606115538468]},"edges":{"from":[1,2,3,4,5,2,2,5,6,6,3,7,6,5,8,3,8,3,5,8,5,3,8,9,10,3,9,5,10,10,9,11,4,1,12,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"to":[15,16,16,17,18,18,19,20,20,21,21,22,23,24,24,24,25,25,26,26,27,27,28,29,29,30,31,32,33,34,35,36,37,38,39,13,14,13,14,14,14,14,14,14,14,14,14,14,14,13,14,13,14,13,14,14,14,14,14,14],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","scaling":{"label":{"enabled":true}},"physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"hover":true}},"groups":["item","rule"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)"},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
<p class="caption">Balloon Plot</p>
</div>


#### Discussion

The balloon plot is able to filter and zoom, which gives the ability to look
through each income group and see what rules are feeding the analysis.  Just by
seperating out the large income bracket, we begin to see that married-civ-spouce
has one of the highest lift scores.  The next two highest were white and Male.
Which follows suit with our above research as well. 

In the small income bracket, we see rules such as (Never-married, fulltime),
(female, private/housekeeper/server), (Private/housekeeper/server,
never-married).  This would begin to tell us that if you're female,
never-married and work full time, then you're chances are higher for making
under 50k. 

### Parallel plot


```r
plot(rulesorted, method = "paracoord", measure = "confidence", shading = "lift", 
    control = list(reorder = T))
```

<div class="figure" style="text-align: center">
<img src="fig/plplot-1.png" alt="Parallel Plot"  />
<p class="caption">Parallel Plot</p>
</div>

#### Discussion
The width of the arrows represents support and the color represents confidence. We can see a few interesting things here. First of all, we have a striking level of confidence that being married gets you a large income, and then also interestingly we see that working as a private worker/housekeeper/server is a part of a lot of the rules related to being in the low income bracket (You can see this by looking where all the rules converge on LHS order 1).

### Two key plot

This plot is often used to discuss the relationship between the order of the rules and their support/confidence.


```r
plot(rulesorted, method = "two-key plot", measure = "lift", shading = "confidence", 
    engine = "htmlwidget")
```

<div class="figure" style="text-align: center">
<!--html_preserve--><div id="htmlwidget-8354dab7a9c664562635" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8354dab7a9c664562635">{"x":{"visdat":{"3dc763bf883b":["function () ","plotlyVisDat"]},"cur_data":"3dc763bf883b","attrs":{"3dc763bf883b":{"x":[0.205521943429256,0.204600595804797,0.313012499616105,0.228770615153097,0.294585547126931,0.452381683609226,0.499431835631584,0.218574368109088,0.544608580817542,0.220232793833113,0.675624213015571,0.635699149289027,0.373391480605632,0.464604895427045,0.254414790700531,0.223426798931237,0.207272503915727,0.241331654433218,0.215779613648229,0.207641042965511,0.30524246798317,0.332667915604558,0.370412456619883,0.205890482479039,0.231104695801726],"y":[0.446848290598291,0.305736576411198,0.954039127585884,0.896929560505719,0.890539411382416,0.827900179856115,0.810991422302015,0.255859936727064,0.781327106097991,0.245834761741515,0.754165238258485,0.744140063272936,0.735822792471101,0.694263423588802,0.553151709401709,0.551428787993633,0.970939433175083,0.959931590520401,0.906346749226006,0.903997860676561,0.857105898585719,0.841385738698151,0.833805737988248,0.261660356738613,0.871049890033569],"hoverinfo":"text","text":["[1]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>confidence: 0.447 <BR>order: 2","[3]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.205 <BR>confidence: 0.306 <BR>order: 2","[5]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.313 <BR>confidence: 0.954 <BR>order: 2","[8]<BR> <B>{relationship=Not-in-family}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.229 <BR>confidence: 0.897 <BR>order: 2","[9]<BR> <B>{gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.295 <BR>confidence: 0.891 <BR>order: 2","[14]<BR> <B>{education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.452 <BR>confidence: 0.828 <BR>order: 2","[16]<BR> <B>{hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.499 <BR>confidence: 0.811 <BR>order: 2","[17]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.219 <BR>confidence: 0.256 <BR>order: 2","[18]<BR> <B>{workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.545 <BR>confidence: 0.781 <BR>order: 2","[19]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.22 <BR>confidence: 0.246 <BR>order: 2","[20]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.676 <BR>confidence: 0.754 <BR>order: 2","[21]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.636 <BR>confidence: 0.744 <BR>order: 2","[22]<BR> <B>{age=Middleaged}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.373 <BR>confidence: 0.736 <BR>order: 2","[23]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.465 <BR>confidence: 0.694 <BR>order: 2","[24]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.254 <BR>confidence: 0.553 <BR>order: 2","[25]<BR> <B>{relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.223 <BR>confidence: 0.551 <BR>order: 2","[2]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.207 <BR>confidence: 0.971 <BR>order: 3","[4]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.241 <BR>confidence: 0.96 <BR>order: 3","[6]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.216 <BR>confidence: 0.906 <BR>order: 3","[7]<BR> <B>{gender=Female,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.208 <BR>confidence: 0.904 <BR>order: 3","[11]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.305 <BR>confidence: 0.857 <BR>order: 3","[12]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.333 <BR>confidence: 0.841 <BR>order: 3","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.37 <BR>confidence: 0.834 <BR>order: 3","[15]<BR> <B>{race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>confidence: 0.262 <BR>order: 3","[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.231 <BR>confidence: 0.871 <BR>order: 4"],"mode":"markers","marker":[],"color":["2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","3","3","3","3","3","3","3","3","4"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","xaxis":{"domain":[0,1],"automargin":true,"title":"support"},"yaxis":{"domain":[0,1],"automargin":true,"title":"confidence"},"showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.231104695801726],"y":[0.871049890033569],"hoverinfo":"text","text":"[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.231 <BR>confidence: 0.871 <BR>order: 4","mode":"markers","type":"scatter","name":"4","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.207272503915727,0.241331654433218,0.215779613648229,0.207641042965511,0.30524246798317,0.332667915604558,0.370412456619883,0.205890482479039],"y":[0.970939433175083,0.959931590520401,0.906346749226006,0.903997860676561,0.857105898585719,0.841385738698151,0.833805737988248,0.261660356738613],"hoverinfo":["text","text","text","text","text","text","text","text"],"text":["[2]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.207 <BR>confidence: 0.971 <BR>order: 3","[4]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.241 <BR>confidence: 0.96 <BR>order: 3","[6]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.216 <BR>confidence: 0.906 <BR>order: 3","[7]<BR> <B>{gender=Female,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.208 <BR>confidence: 0.904 <BR>order: 3","[11]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.305 <BR>confidence: 0.857 <BR>order: 3","[12]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.333 <BR>confidence: 0.841 <BR>order: 3","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.37 <BR>confidence: 0.834 <BR>order: 3","[15]<BR> <B>{race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>confidence: 0.262 <BR>order: 3"],"mode":"markers","type":"scatter","name":"3","marker":{"color":"rgba(33,144,140,1)","line":{"color":"rgba(33,144,140,1)"}},"textfont":{"color":"rgba(33,144,140,1)"},"error_y":{"color":"rgba(33,144,140,1)"},"error_x":{"color":"rgba(33,144,140,1)"},"line":{"color":"rgba(33,144,140,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.205521943429256,0.204600595804797,0.313012499616105,0.228770615153097,0.294585547126931,0.452381683609226,0.499431835631584,0.218574368109088,0.544608580817542,0.220232793833113,0.675624213015571,0.635699149289027,0.373391480605632,0.464604895427045,0.254414790700531,0.223426798931237],"y":[0.446848290598291,0.305736576411198,0.954039127585884,0.896929560505719,0.890539411382416,0.827900179856115,0.810991422302015,0.255859936727064,0.781327106097991,0.245834761741515,0.754165238258485,0.744140063272936,0.735822792471101,0.694263423588802,0.553151709401709,0.551428787993633],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[1]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.206 <BR>confidence: 0.447 <BR>order: 2","[3]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.205 <BR>confidence: 0.306 <BR>order: 2","[5]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.313 <BR>confidence: 0.954 <BR>order: 2","[8]<BR> <B>{relationship=Not-in-family}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.229 <BR>confidence: 0.897 <BR>order: 2","[9]<BR> <B>{gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.295 <BR>confidence: 0.891 <BR>order: 2","[14]<BR> <B>{education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.452 <BR>confidence: 0.828 <BR>order: 2","[16]<BR> <B>{hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.499 <BR>confidence: 0.811 <BR>order: 2","[17]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.219 <BR>confidence: 0.256 <BR>order: 2","[18]<BR> <B>{workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.545 <BR>confidence: 0.781 <BR>order: 2","[19]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>support: 0.22 <BR>confidence: 0.246 <BR>order: 2","[20]<BR> <B>{native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.676 <BR>confidence: 0.754 <BR>order: 2","[21]<BR> <B>{race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.636 <BR>confidence: 0.744 <BR>order: 2","[22]<BR> <B>{age=Middleaged}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.373 <BR>confidence: 0.736 <BR>order: 2","[23]<BR> <B>{gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.465 <BR>confidence: 0.694 <BR>order: 2","[24]<BR> <B>{marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.254 <BR>confidence: 0.553 <BR>order: 2","[25]<BR> <B>{relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.223 <BR>confidence: 0.551 <BR>order: 2"],"mode":"markers","type":"scatter","name":"2","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->
<p class="caption">Two Key Plot</p>
</div>

#### Discussion

We can find several interesting bits of information here. First, we see that we only produced one rule of order 4, a few rules of order 3, and a bunch of order 2. We also note that the area with high support and confidence (upper right, a bit of a sweet spot), is dominated by the shorter rules.

# Alternate Rule Mining

After our first attempt at mining for rules, we're going to relax our support to
0.1 and increase our confidence to 98% see what we get.  Aftewards, we'll target
small and large incomes individually in order to see if we can isolate the
itemsets that are going to be of highest influence.


```r
rule2 <- apriori(data, parameter = list(minlen = 2, supp = 0.1, conf = 0.98), 
    appearance = list(rhs = c("income_bracket=small", "income_bracket=large"), 
        default = "lhs"), control = list(verbose = F))
length(rule2)
```

```
#> [1] 50
```

```r
redundant <- is.redundant(rule2)
rulep <- rule2[redundant == FALSE]
rulesorted2 <- sort(rulep, by = "lift", decreasing = TRUE)
length(rulesorted2)
```

```
#> [1] 36
```

We can see that this time around we've generated 36 rule's.  We'll put them
through the same inspection and plots as previously to see if any other rules
stand out or if we're seeing more of the same.

## Inspection


```r
head(quality(rulesorted2))
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["support"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["confidence"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lift"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["count"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.1034980","2":"0.9976317","3":"1.314073","4":"3370","_rn_":"16"},{"1":"0.1070913","2":"0.9971404","3":"1.313426","4":"3487","_rn_":"3"},{"1":"0.1060164","2":"0.9968236","3":"1.313009","4":"3452","_rn_":"22"},{"1":"0.1137557","2":"0.9956989","3":"1.311527","4":"3704","_rn_":"40"},{"1":"0.1192224","2":"0.9953846","3":"1.311113","4":"3882","_rn_":"41"},{"1":"0.1317220","2":"0.9953586","3":"1.311079","4":"4289","_rn_":"24"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

```r
inspectDT(rulesorted2, caption = "Alternate Association Rules")
```

<!--html_preserve--><div id="htmlwidget-b0102c72ccf655ab7ef4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b0102c72ccf655ab7ef4">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.100089063603697\" data-max=\"0.193390866373883\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.982218062704726\" data-max=\"0.997631734754293\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1.29377032118643\" data-max=\"1.31407309528052\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"3259\" data-max=\"6297\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Alternate Association Rules<\/caption>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]","[27]","[28]","[29]","[30]","[31]","[32]","[33]","[34]","[35]","[36]"],["{age=Young,marital_status=Never-married,relationship=Own-child}","{age=Young,relationship=Own-child}","{age=Young,education=Diploma,marital_status=Never-married}","{age=Young,workclass=Private,marital_status=Never-married,race=White}","{age=Young,workclass=Private,marital_status=Never-married,native_country=United-States}","{age=Young,workclass=Private,marital_status=Never-married}","{age=Young,marital_status=Never-married,race=White,native_country=United-States}","{age=Young,marital_status=Never-married,race=White}","{age=Young,marital_status=Never-married,native_country=United-States}","{age=Young,marital_status=Never-married,hours_per_week=full-time}","{age=Young,marital_status=Never-married}","{marital_status=Never-married,relationship=Own-child,native_country=United-States}","{workclass=Private,marital_status=Never-married,relationship=Own-child}","{marital_status=Never-married,relationship=Own-child}","{workclass=Private,education=Diploma,marital_status=Never-married,hours_per_week=full-time}","{relationship=Own-child,hours_per_week=full-time}","{education=Diploma,marital_status=Never-married,hours_per_week=full-time}","{workclass=Private,relationship=Own-child,native_country=United-States}","{workclass=Private,relationship=Own-child}","{relationship=Own-child,native_country=United-States}","{workclass=Private,education=Diploma,marital_status=Never-married,native_country=United-States}","{workclass=Private,education=Diploma,marital_status=Never-married}","{age=Young,workclass=Private,hours_per_week=full-time}","{relationship=Own-child}","{age=Young,education=Diploma,race=White}","{age=Young,education=Diploma,native_country=United-States}","{age=Young,education=Diploma}","{age=Young,race=White,hours_per_week=full-time}","{age=Young,hours_per_week=full-time,native_country=United-States}","{age=Young,hours_per_week=full-time}","{education=Diploma,marital_status=Never-married}","{age=Young,workclass=Private,race=White}","{age=Young,workclass=Private,native_country=United-States}","{age=Young,workclass=Private}","{age=Young,native_country=United-States}","{age=Young}"],["{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}"],[0.103498049814195,0.107091305549584,0.106016399987715,0.113755720033169,0.119222382604957,0.131721998710113,0.132121249347379,0.142378919566352,0.151377414698566,0.106968459199656,0.166548938914653,0.12696170265041,0.104603666963545,0.13669727588219,0.100703295353337,0.100089063603698,0.126040355025951,0.108411903811308,0.117318264181076,0.142256073216425,0.130585669973281,0.143300267190811,0.101747489327723,0.153588648997267,0.105248610300666,0.113878566383096,0.123614139614877,0.107214151899512,0.112895795583674,0.126777433125518,0.181904732655631,0.133165443321765,0.138324990018734,0.153895764872086,0.174687509597371,0.193390866373883],[0.997631734754292,0.997140406062339,0.996823563384349,0.995698924731183,0.995384615384615,0.995358551868183,0.994682080924855,0.994636344132161,0.994351422231188,0.994006849315068,0.993951612903226,0.993033869805429,0.992713494607986,0.992419175027871,0.990933816863101,0.98877427184466,0.988439306358382,0.988241881298992,0.987845875355573,0.987422724365807,0.987230090550267,0.987095409350539,0.986893059279118,0.986779794790845,0.986754966887417,0.986695050558808,0.986519607843137,0.985601355166573,0.985522788203753,0.98543805204106,0.983560278977084,0.983219954648526,0.983191442916394,0.983127329801844,0.982383419689119,0.982218062704726],[1.31407309528052,1.31342592078462,1.31300857796755,1.31152721230469,1.31111320637292,1.31107887570307,1.31018783321174,1.31012758904884,1.30975229204166,1.30929842316132,1.30922566617079,1.30801682179347,1.30759482596807,1.30720715040787,1.3052506476893,1.30240611106529,1.30196489702003,1.30170485020131,1.30118323412026,1.30062586278621,1.30037212695822,1.30019472588442,1.29992819187651,1.29977900073563,1.29974629760604,1.29966737626397,1.29943628442477,1.29822676883409,1.29812328101547,1.29801166717269,1.29553827846977,1.29509000579736,1.29505245035602,1.29496800103875,1.29398812817546,1.29377032118643],[3370,3487,3452,3704,3882,4289,4302,4636,4929,3483,5423,4134,3406,4451,3279,3259,4104,3530,3820,4632,4252,4666,3313,5001,3427,3708,4025,3491,3676,4128,5923,4336,4504,5011,5688,6297]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 7, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->

## Plots

### Scatterplot


```r
plot(rulesorted2, method = "scatterplot", measure = c("support", "lift"), shading = "confidence", 
    engine = "htmlwidget")
```

<!--html_preserve--><div id="htmlwidget-1e29fbd8a1da4f4d50de" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1e29fbd8a1da4f4d50de">{"x":{"visdat":{"3dc777eafb72":["function () ","plotlyVisDat"]},"cur_data":"3dc777eafb72","attrs":{"3dc777eafb72":{"x":[0.193390866373883,0.174687509597371,0.153895764872086,0.138324990018734,0.133165443321765,0.181904732655631,0.126777433125518,0.112895795583674,0.107214151899512,0.123614139614877,0.113878566383096,0.105248610300666,0.153588648997267,0.101747489327723,0.143300267190811,0.130585669973281,0.142256073216425,0.117318264181076,0.108411903811308,0.126040355025951,0.100089063603698,0.100703295353337,0.13669727588219,0.104603666963545,0.12696170265041,0.166548938914653,0.106968459199656,0.151377414698566,0.142378919566352,0.132121249347379,0.131721998710113,0.119222382604957,0.113755720033169,0.106016399987715,0.107091305549584,0.103498049814195],"y":[1.29377032118643,1.29398812817546,1.29496800103875,1.29505245035602,1.29509000579736,1.29553827846977,1.29801166717269,1.29812328101547,1.29822676883409,1.29943628442477,1.29966737626397,1.29974629760604,1.29977900073563,1.29992819187651,1.30019472588442,1.30037212695822,1.30062586278621,1.30118323412026,1.30170485020131,1.30196489702003,1.30240611106529,1.3052506476893,1.30720715040787,1.30759482596807,1.30801682179347,1.30922566617079,1.30929842316132,1.30975229204166,1.31012758904884,1.31018783321174,1.31107887570307,1.31111320637292,1.31152721230469,1.31300857796755,1.31342592078462,1.31407309528052],"hoverinfo":"text","text":["[36]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.193 <BR>lift: 1.29 <BR>confidence: 0.982","[35]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.175 <BR>lift: 1.29 <BR>confidence: 0.982","[34]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>lift: 1.29 <BR>confidence: 0.983","[33]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.138 <BR>lift: 1.3 <BR>confidence: 0.983","[32]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.133 <BR>lift: 1.3 <BR>confidence: 0.983","[31]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.182 <BR>lift: 1.3 <BR>confidence: 0.984","[30]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>lift: 1.3 <BR>confidence: 0.985","[29]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.113 <BR>lift: 1.3 <BR>confidence: 0.986","[28]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.3 <BR>confidence: 0.986","[27]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.124 <BR>lift: 1.3 <BR>confidence: 0.987","[26]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>lift: 1.3 <BR>confidence: 0.987","[25]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>lift: 1.3 <BR>confidence: 0.987","[24]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>lift: 1.3 <BR>confidence: 0.987","[23]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.102 <BR>lift: 1.3 <BR>confidence: 0.987","[22]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.143 <BR>lift: 1.3 <BR>confidence: 0.987","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.131 <BR>lift: 1.3 <BR>confidence: 0.987","[20]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>lift: 1.3 <BR>confidence: 0.987","[19]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.117 <BR>lift: 1.3 <BR>confidence: 0.988","[18]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.108 <BR>lift: 1.3 <BR>confidence: 0.988","[17]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.126 <BR>lift: 1.3 <BR>confidence: 0.988","[16]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.1 <BR>lift: 1.3 <BR>confidence: 0.989","[15]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.101 <BR>lift: 1.31 <BR>confidence: 0.991","[14]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.137 <BR>lift: 1.31 <BR>confidence: 0.992","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>lift: 1.31 <BR>confidence: 0.993","[12]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>lift: 1.31 <BR>confidence: 0.993","[11]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.167 <BR>lift: 1.31 <BR>confidence: 0.994","[10]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.31 <BR>confidence: 0.994","[9]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.151 <BR>lift: 1.31 <BR>confidence: 0.994","[8]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>lift: 1.31 <BR>confidence: 0.995","[7]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>lift: 1.31 <BR>confidence: 0.995","[6]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>lift: 1.31 <BR>confidence: 0.995","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.119 <BR>lift: 1.31 <BR>confidence: 0.995","[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>lift: 1.31 <BR>confidence: 0.996","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.106 <BR>lift: 1.31 <BR>confidence: 0.997","[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.31 <BR>confidence: 0.997","[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.103 <BR>lift: 1.31 <BR>confidence: 0.998"],"mode":"markers","marker":[],"color":[0.982218062704726,0.982383419689119,0.983127329801844,0.983191442916394,0.983219954648526,0.983560278977084,0.98543805204106,0.985522788203753,0.985601355166573,0.986519607843137,0.986695050558808,0.986754966887417,0.986779794790845,0.986893059279118,0.987095409350539,0.987230090550267,0.987422724365807,0.987845875355573,0.988241881298992,0.988439306358382,0.98877427184466,0.990933816863101,0.992419175027871,0.992713494607986,0.993033869805429,0.993951612903226,0.994006849315068,0.994351422231188,0.994636344132161,0.994682080924855,0.995358551868183,0.995384615384615,0.995698924731183,0.996823563384349,0.997140406062339,0.997631734754292],"colors":["#EEEEEEFF","#EE0000FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"support"},"yaxis":{"domain":[0,1],"automargin":true,"title":"lift"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.193390866373883,0.174687509597371,0.153895764872086,0.138324990018734,0.133165443321765,0.181904732655631,0.126777433125518,0.112895795583674,0.107214151899512,0.123614139614877,0.113878566383096,0.105248610300666,0.153588648997267,0.101747489327723,0.143300267190811,0.130585669973281,0.142256073216425,0.117318264181076,0.108411903811308,0.126040355025951,0.100089063603698,0.100703295353337,0.13669727588219,0.104603666963545,0.12696170265041,0.166548938914653,0.106968459199656,0.151377414698566,0.142378919566352,0.132121249347379,0.131721998710113,0.119222382604957,0.113755720033169,0.106016399987715,0.107091305549584,0.103498049814195],"y":[1.29377032118643,1.29398812817546,1.29496800103875,1.29505245035602,1.29509000579736,1.29553827846977,1.29801166717269,1.29812328101547,1.29822676883409,1.29943628442477,1.29966737626397,1.29974629760604,1.29977900073563,1.29992819187651,1.30019472588442,1.30037212695822,1.30062586278621,1.30118323412026,1.30170485020131,1.30196489702003,1.30240611106529,1.3052506476893,1.30720715040787,1.30759482596807,1.30801682179347,1.30922566617079,1.30929842316132,1.30975229204166,1.31012758904884,1.31018783321174,1.31107887570307,1.31111320637292,1.31152721230469,1.31300857796755,1.31342592078462,1.31407309528052],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[36]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.193 <BR>lift: 1.29 <BR>confidence: 0.982","[35]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.175 <BR>lift: 1.29 <BR>confidence: 0.982","[34]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>lift: 1.29 <BR>confidence: 0.983","[33]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.138 <BR>lift: 1.3 <BR>confidence: 0.983","[32]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.133 <BR>lift: 1.3 <BR>confidence: 0.983","[31]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.182 <BR>lift: 1.3 <BR>confidence: 0.984","[30]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>lift: 1.3 <BR>confidence: 0.985","[29]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.113 <BR>lift: 1.3 <BR>confidence: 0.986","[28]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.3 <BR>confidence: 0.986","[27]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.124 <BR>lift: 1.3 <BR>confidence: 0.987","[26]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>lift: 1.3 <BR>confidence: 0.987","[25]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>lift: 1.3 <BR>confidence: 0.987","[24]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>lift: 1.3 <BR>confidence: 0.987","[23]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.102 <BR>lift: 1.3 <BR>confidence: 0.987","[22]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.143 <BR>lift: 1.3 <BR>confidence: 0.987","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.131 <BR>lift: 1.3 <BR>confidence: 0.987","[20]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>lift: 1.3 <BR>confidence: 0.987","[19]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.117 <BR>lift: 1.3 <BR>confidence: 0.988","[18]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.108 <BR>lift: 1.3 <BR>confidence: 0.988","[17]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.126 <BR>lift: 1.3 <BR>confidence: 0.988","[16]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.1 <BR>lift: 1.3 <BR>confidence: 0.989","[15]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.101 <BR>lift: 1.31 <BR>confidence: 0.991","[14]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.137 <BR>lift: 1.31 <BR>confidence: 0.992","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>lift: 1.31 <BR>confidence: 0.993","[12]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>lift: 1.31 <BR>confidence: 0.993","[11]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.167 <BR>lift: 1.31 <BR>confidence: 0.994","[10]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.31 <BR>confidence: 0.994","[9]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.151 <BR>lift: 1.31 <BR>confidence: 0.994","[8]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>lift: 1.31 <BR>confidence: 0.995","[7]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>lift: 1.31 <BR>confidence: 0.995","[6]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>lift: 1.31 <BR>confidence: 0.995","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.119 <BR>lift: 1.31 <BR>confidence: 0.995","[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>lift: 1.31 <BR>confidence: 0.996","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.106 <BR>lift: 1.31 <BR>confidence: 0.997","[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>lift: 1.31 <BR>confidence: 0.997","[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.103 <BR>lift: 1.31 <BR>confidence: 0.998"],"mode":"markers","type":"scatter","marker":{"colorbar":{"title":"","ticklen":2},"cmin":0.982218062704726,"cmax":0.997631734754292,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666682","rgba(241,231,228,1)"],["0.0833333333333363","rgba(244,223,218,1)"],["0.124999999999997","rgba(247,216,208,1)"],["0.166666666666665","rgba(249,208,198,1)"],["0.208333333333334","rgba(251,201,188,1)"],["0.250000000000002","rgba(252,193,178,1)"],["0.29166666666667","rgba(253,186,168,1)"],["0.333333333333331","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333335","rgba(255,155,130,1)"],["0.499999999999996","rgba(255,147,120,1)"],["0.541666666666665","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666669","rgba(252,114,83,1)"],["0.70833333333333","rgba(251,106,74,1)"],["0.749999999999998","rgba(249,96,65,1)"],["0.791666666666666","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875000000000003","rgba(244,65,37,1)"],["0.916666666666664","rgba(242,51,26,1)"],["0.958333333333332","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[0.982218062704726,0.982383419689119,0.983127329801844,0.983191442916394,0.983219954648526,0.983560278977084,0.98543805204106,0.985522788203753,0.985601355166573,0.986519607843137,0.986695050558808,0.986754966887417,0.986779794790845,0.986893059279118,0.987095409350539,0.987230090550267,0.987422724365807,0.987845875355573,0.988241881298992,0.988439306358382,0.98877427184466,0.990933816863101,0.992419175027871,0.992713494607986,0.993033869805429,0.993951612903226,0.994006849315068,0.994351422231188,0.994636344132161,0.994682080924855,0.995358551868183,0.995384615384615,0.995698924731183,0.996823563384349,0.997140406062339,0.997631734754292],"line":{"colorbar":{"title":"","ticklen":2},"cmin":0.982218062704726,"cmax":0.997631734754292,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666682","rgba(241,231,228,1)"],["0.0833333333333363","rgba(244,223,218,1)"],["0.124999999999997","rgba(247,216,208,1)"],["0.166666666666665","rgba(249,208,198,1)"],["0.208333333333334","rgba(251,201,188,1)"],["0.250000000000002","rgba(252,193,178,1)"],["0.29166666666667","rgba(253,186,168,1)"],["0.333333333333331","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333335","rgba(255,155,130,1)"],["0.499999999999996","rgba(255,147,120,1)"],["0.541666666666665","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666669","rgba(252,114,83,1)"],["0.70833333333333","rgba(251,106,74,1)"],["0.749999999999998","rgba(249,96,65,1)"],["0.791666666666666","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875000000000003","rgba(244,65,37,1)"],["0.916666666666664","rgba(242,51,26,1)"],["0.958333333333332","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[0.982218062704726,0.982383419689119,0.983127329801844,0.983191442916394,0.983219954648526,0.983560278977084,0.98543805204106,0.985522788203753,0.985601355166573,0.986519607843137,0.986695050558808,0.986754966887417,0.986779794790845,0.986893059279118,0.987095409350539,0.987230090550267,0.987422724365807,0.987845875355573,0.988241881298992,0.988439306358382,0.98877427184466,0.990933816863101,0.992419175027871,0.992713494607986,0.993033869805429,0.993951612903226,0.994006849315068,0.994351422231188,0.994636344132161,0.994682080924855,0.995358551868183,0.995384615384615,0.995698924731183,0.996823563384349,0.997140406062339,0.997631734754292]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.100089063603698,0.193390866373883],"y":[1.29377032118643,1.31407309528052],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"confidence","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":0.982218062704726,"cmax":0.997631734754292,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666682","rgba(241,231,228,1)"],["0.0833333333333363","rgba(244,223,218,1)"],["0.124999999999997","rgba(247,216,208,1)"],["0.166666666666665","rgba(249,208,198,1)"],["0.208333333333334","rgba(251,201,188,1)"],["0.250000000000002","rgba(252,193,178,1)"],["0.29166666666667","rgba(253,186,168,1)"],["0.333333333333331","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333335","rgba(255,155,130,1)"],["0.499999999999996","rgba(255,147,120,1)"],["0.541666666666665","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666669","rgba(252,114,83,1)"],["0.70833333333333","rgba(251,106,74,1)"],["0.749999999999998","rgba(249,96,65,1)"],["0.791666666666666","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875000000000003","rgba(244,65,37,1)"],["0.916666666666664","rgba(242,51,26,1)"],["0.958333333333332","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":true,"color":[0.982218062704726,0.997631734754292],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

#### Discussion

We see similar results as in section 7.2.1. 

* Never being married has a strong association with low income.

* High school Diploma is a lower income indicator

* Private jobs also carry an association with low income.

* One difference was that Female was NOT found to carry an association with low income within these rules.  Why, we are unsure.

But we also noticed that two other itemsets began to surface around the highest lift.

* Young was seen more often within the higher threshold lift rules, meaning yes, young people don't make as much money. 

* Owning a child also had a strong association with low income.  

What was also interesting to see is that one of the rules with the highest lift, was (Young, never-married, own-child).  Which fits the tragic tale of the struggling single parent within our society. 

### Balloon plot


```r
plot(rulesorted2, method = "graph", measure = "confidence", shading = "lift", 
    engine = "htmlwidget")
```

<!--html_preserve--><div id="htmlwidget-623ba363bece6a8a8199" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-623ba363bece6a8a8199">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],"label":["age=Young","marital_status=Never-married","relationship=Own-child","education=Diploma","workclass=Private","race=White","native_country=United-States","hours_per_week=full-time","income_bracket=small","rule 1","rule 2","rule 3","rule 4","rule 5","rule 6","rule 7","rule 8","rule 9","rule 10","rule 11","rule 12","rule 13","rule 14","rule 15","rule 16","rule 17","rule 18","rule 19","rule 20","rule 21","rule 22","rule 23","rule 24","rule 25","rule 26","rule 27","rule 28","rule 29","rule 30","rule 31","rule 32","rule 33","rule 34","rule 35","rule 36"],"group":["item","item","item","item","item","item","item","item","item","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule"],"value":[1,1,1,1,1,1,1,1,1,100,96.8442600603566,94.8092209716718,87.585813966164,85.5670461339362,85.3996435760952,81.0547591660689,80.7609977273775,78.9309816153472,76.7178348333111,76.3630585830548,70.4685146749105,68.4107866757134,66.5204104994386,56.9801492405149,43.1096739807517,40.9582344642661,39.6901991241671,37.146704733444,34.4288612596691,33.1915994522863,32.3265597180715,31.0268916697135,30.2994086726026,30.1399422955189,29.7551075518413,28.6282619309187,22.7304450649845,22.2258197366341,21.6815704442089,9.62087960196073,7.4350209422664,7.25189381512784,6.84010366415042,2.06206628779016,1],"color":["#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#EE1B1B","#EE2525","#EE2B2B","#EE3A3A","#EE4040","#EE4040","#EE4D4D","#EE4D4D","#EE5050","#EE5656","#EE5656","#EE6666","#EE6C6C","#EE6F6F","#EE8888","#EEA2A2","#EEA5A5","#EEA7A7","#EEABAB","#EEAEAE","#EEB0B0","#EEB1B1","#EEB3B3","#EEB3B3","#EEB3B3","#EEB5B5","#EEB5B5","#EEBDBD","#EEBFBF","#EEBFBF","#EED0D0","#EED2D2","#EED4D4","#EED4D4","#EEDBDB","#EEDCDC"],"title":["age=Young","marital_status=Never-married","relationship=Own-child","education=Diploma","workclass=Private","race=White","native_country=United-States","hours_per_week=full-time","income_bracket=small","<B>[1]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.103<BR>confidence = 0.998<BR>lift = 1.31<BR>count = 3370<BR>order = 4","<B>[2]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.107<BR>confidence = 0.997<BR>lift = 1.31<BR>count = 3490<BR>order = 3","<B>[3]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.106<BR>confidence = 0.997<BR>lift = 1.31<BR>count = 3450<BR>order = 4","<B>[4]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.114<BR>confidence = 0.996<BR>lift = 1.31<BR>count = 3700<BR>order = 5","<B>[5]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.119<BR>confidence = 0.995<BR>lift = 1.31<BR>count = 3880<BR>order = 5","<B>[6]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.132<BR>confidence = 0.995<BR>lift = 1.31<BR>count = 4290<BR>order = 4","<B>[7]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.132<BR>confidence = 0.995<BR>lift = 1.31<BR>count = 4300<BR>order = 5","<B>[8]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.142<BR>confidence = 0.995<BR>lift = 1.31<BR>count = 4640<BR>order = 4","<B>[9]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.151<BR>confidence = 0.994<BR>lift = 1.31<BR>count = 4930<BR>order = 4","<B>[10]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.107<BR>confidence = 0.994<BR>lift = 1.31<BR>count = 3480<BR>order = 4","<B>[11]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.167<BR>confidence = 0.994<BR>lift = 1.31<BR>count = 5420<BR>order = 3","<B>[12]<\/B><BR><B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.127<BR>confidence = 0.993<BR>lift = 1.31<BR>count = 4130<BR>order = 4","<B>[13]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.105<BR>confidence = 0.993<BR>lift = 1.31<BR>count = 3410<BR>order = 4","<B>[14]<\/B><BR><B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.137<BR>confidence = 0.992<BR>lift = 1.31<BR>count = 4450<BR>order = 3","<B>[15]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.101<BR>confidence = 0.991<BR>lift = 1.31<BR>count = 3280<BR>order = 5","<B>[16]<\/B><BR><B>{relationship=Own-child,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.1<BR>confidence = 0.989<BR>lift = 1.3<BR>count = 3260<BR>order = 3","<B>[17]<\/B><BR><B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.126<BR>confidence = 0.988<BR>lift = 1.3<BR>count = 4100<BR>order = 4","<B>[18]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.108<BR>confidence = 0.988<BR>lift = 1.3<BR>count = 3530<BR>order = 4","<B>[19]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.117<BR>confidence = 0.988<BR>lift = 1.3<BR>count = 3820<BR>order = 3","<B>[20]<\/B><BR><B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.142<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 4630<BR>order = 3","<B>[21]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.131<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 4250<BR>order = 5","<B>[22]<\/B><BR><B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.143<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 4670<BR>order = 4","<B>[23]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.102<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 3310<BR>order = 4","<B>[24]<\/B><BR><B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.154<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 5000<BR>order = 2","<B>[25]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.105<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 3430<BR>order = 4","<B>[26]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.114<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 3710<BR>order = 4","<B>[27]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.124<BR>confidence = 0.987<BR>lift = 1.3<BR>count = 4020<BR>order = 3","<B>[28]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.107<BR>confidence = 0.986<BR>lift = 1.3<BR>count = 3490<BR>order = 4","<B>[29]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.113<BR>confidence = 0.986<BR>lift = 1.3<BR>count = 3680<BR>order = 4","<B>[30]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.127<BR>confidence = 0.985<BR>lift = 1.3<BR>count = 4130<BR>order = 3","<B>[31]<\/B><BR><B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.182<BR>confidence = 0.984<BR>lift = 1.3<BR>count = 5920<BR>order = 3","<B>[32]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.133<BR>confidence = 0.983<BR>lift = 1.3<BR>count = 4340<BR>order = 4","<B>[33]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.138<BR>confidence = 0.983<BR>lift = 1.3<BR>count = 4500<BR>order = 4","<B>[34]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.154<BR>confidence = 0.983<BR>lift = 1.29<BR>count = 5010<BR>order = 3","<B>[35]<\/B><BR><B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.175<BR>confidence = 0.982<BR>lift = 1.29<BR>count = 5690<BR>order = 3","<B>[36]<\/B><BR><B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B><BR><BR>support = 0.193<BR>confidence = 0.982<BR>lift = 1.29<BR>count = 6300<BR>order = 2"],"shape":["box","box","box","box","box","box","box","box","box","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],"x":[-0.241159206506683,-0.0694306658757071,0.858298891652095,-0.363104623204135,-0.0737537920111574,-1,0.269872984014429,0.0357885394924342,-0.0098106375514333,0.408049873526941,0.57349839620279,-0.531689721234983,-0.585807687252004,-0.100456860146577,-0.379177188129066,-0.403622350868504,-0.693995897639923,0.0945962011919617,-0.166986624776643,0.189265053137178,0.596256823536327,0.429043438141651,0.646010353118316,-0.122691151931609,0.626025767718971,0.0726173405421537,0.49880107575772,0.620024808165263,0.834925699213455,-0.121097565612861,-0.47204287803426,0.0555432302676127,1,-0.776734823841744,0.160652309027138,-0.813433517591494,-0.574645860899301,0.286646578184889,-0.391910466436322,-0.214963175724078,-0.680948500613836,-0.107143418826846,-0.400283439144741,0.0943316890004819,-0.783862422649446],"y":[-0.0805187059746634,0.0478224876387414,-0.144604843736428,0.379381053059309,-0.490266034314332,-0.183439981522779,-0.627722863490568,1,-0.0544809629271272,0.081823832896476,0.00885072387629871,0.298854565643961,-0.374490698590764,-0.708966046866862,-0.659467359899161,-0.44940307918665,-0.135695362111328,-0.641640901130146,0.67482246264978,0.583482801546656,-0.29647689688304,-0.373354412157415,0.325715442672558,0.428988013241792,0.699439459665136,0.80861195104206,-0.814276637277562,-0.678096808087916,-0.590375519177163,-0.305610511173065,-0.0886844091237297,0.364000312934653,0.21895923826804,0.246850669277581,-0.134283677210866,0.0825731628104158,0.568766712918009,0.304482152804766,0.864695200636672,0.907390432714555,-0.607668692124378,-0.956943839754981,-0.928220258729079,-1,0.521936854218373]},"edges":{"from":[1,2,3,1,3,1,4,2,1,5,2,6,1,5,2,7,1,5,2,1,2,6,7,1,2,6,1,2,7,1,2,8,1,2,2,3,7,5,2,3,2,3,5,4,2,8,3,8,4,2,8,5,3,7,5,3,3,7,5,4,2,7,5,4,2,1,5,8,3,1,4,6,1,4,7,1,4,1,6,8,1,8,7,1,8,4,2,1,5,6,1,5,7,1,5,1,7,1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],"to":[10,10,10,11,11,12,12,12,13,13,13,13,14,14,14,14,15,15,15,16,16,16,16,17,17,17,18,18,18,19,19,19,20,20,21,21,21,22,22,22,23,23,24,24,24,24,25,25,26,26,26,27,27,27,28,28,29,29,30,30,30,30,31,31,31,32,32,32,33,34,34,34,35,35,35,36,36,37,37,37,38,38,38,39,39,40,40,41,41,41,42,42,42,43,43,44,44,45,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","scaling":{"label":{"enabled":true}},"physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"hover":true}},"groups":["item","rule"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)"},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

#### Discussion

Here the large income bracket didn't appear in our graph, which validates why we didn't see any large income factors in the scatter plot.  This chart does show us similiarities between what we saw in small income.  That some of the highest itemsets for low income were (Young, never-married, own-child, Diploma, Private, White, United-States).  The strongest (Rule 1) being (Young, never-married, own-child)

### Two key plot


```r
plot(rulesorted2, method = "two-key plot", measure = "confidence", shading = "lift", 
    engine = "htmlwidget")
```

<!--html_preserve--><div id="htmlwidget-a0887a7dc582cf9529b7" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a0887a7dc582cf9529b7">{"x":{"visdat":{"3dc7904b75f":["function () ","plotlyVisDat"]},"cur_data":"3dc7904b75f","attrs":{"3dc7904b75f":{"x":[0.153588648997267,0.193390866373883,0.107091305549584,0.166548938914653,0.13669727588219,0.100089063603698,0.117318264181076,0.142256073216425,0.123614139614877,0.126777433125518,0.181904732655631,0.153895764872086,0.174687509597371,0.103498049814195,0.106016399987715,0.131721998710113,0.142378919566352,0.151377414698566,0.106968459199656,0.12696170265041,0.104603666963545,0.126040355025951,0.108411903811308,0.143300267190811,0.101747489327723,0.105248610300666,0.113878566383096,0.107214151899512,0.112895795583674,0.133165443321765,0.138324990018734,0.113755720033169,0.119222382604957,0.132121249347379,0.100703295353337,0.130585669973281],"y":[0.986779794790845,0.982218062704726,0.997140406062339,0.993951612903226,0.992419175027871,0.98877427184466,0.987845875355573,0.987422724365807,0.986519607843137,0.98543805204106,0.983560278977084,0.983127329801844,0.982383419689119,0.997631734754292,0.996823563384349,0.995358551868183,0.994636344132161,0.994351422231188,0.994006849315068,0.993033869805429,0.992713494607986,0.988439306358382,0.988241881298992,0.987095409350539,0.986893059279118,0.986754966887417,0.986695050558808,0.985601355166573,0.985522788203753,0.983219954648526,0.983191442916394,0.995698924731183,0.995384615384615,0.994682080924855,0.990933816863101,0.987230090550267],"hoverinfo":"text","text":["[24]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>confidence: 0.987 <BR>order: 2","[36]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.193 <BR>confidence: 0.982 <BR>order: 2","[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.997 <BR>order: 3","[11]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.167 <BR>confidence: 0.994 <BR>order: 3","[14]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.137 <BR>confidence: 0.992 <BR>order: 3","[16]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.1 <BR>confidence: 0.989 <BR>order: 3","[19]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.117 <BR>confidence: 0.988 <BR>order: 3","[20]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>confidence: 0.987 <BR>order: 3","[27]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.124 <BR>confidence: 0.987 <BR>order: 3","[30]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>confidence: 0.985 <BR>order: 3","[31]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.182 <BR>confidence: 0.984 <BR>order: 3","[34]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>confidence: 0.983 <BR>order: 3","[35]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.175 <BR>confidence: 0.982 <BR>order: 3","[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.998 <BR>order: 4","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.106 <BR>confidence: 0.997 <BR>order: 4","[6]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>confidence: 0.995 <BR>order: 4","[8]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>confidence: 0.995 <BR>order: 4","[9]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.994 <BR>order: 4","[10]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.994 <BR>order: 4","[12]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>confidence: 0.993 <BR>order: 4","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.993 <BR>order: 4","[17]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.126 <BR>confidence: 0.988 <BR>order: 4","[18]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.108 <BR>confidence: 0.988 <BR>order: 4","[22]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.143 <BR>confidence: 0.987 <BR>order: 4","[23]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.987 <BR>order: 4","[25]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.987 <BR>order: 4","[26]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>confidence: 0.987 <BR>order: 4","[28]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.986 <BR>order: 4","[29]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.986 <BR>order: 4","[32]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.133 <BR>confidence: 0.983 <BR>order: 4","[33]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.138 <BR>confidence: 0.983 <BR>order: 4","[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>confidence: 0.996 <BR>order: 5","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.119 <BR>confidence: 0.995 <BR>order: 5","[7]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>confidence: 0.995 <BR>order: 5","[15]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.101 <BR>confidence: 0.991 <BR>order: 5","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.131 <BR>confidence: 0.987 <BR>order: 5"],"mode":"markers","marker":[],"color":["2","2","3","3","3","3","3","3","3","3","3","3","3","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","4","5","5","5","5","5"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","xaxis":{"domain":[0,1],"automargin":true,"title":"support"},"yaxis":{"domain":[0,1],"automargin":true,"title":"confidence"},"showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.113755720033169,0.119222382604957,0.132121249347379,0.100703295353337,0.130585669973281],"y":[0.995698924731183,0.995384615384615,0.994682080924855,0.990933816863101,0.987230090550267],"hoverinfo":["text","text","text","text","text"],"text":["[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>confidence: 0.996 <BR>order: 5","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.119 <BR>confidence: 0.995 <BR>order: 5","[7]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>confidence: 0.995 <BR>order: 5","[15]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.101 <BR>confidence: 0.991 <BR>order: 5","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.131 <BR>confidence: 0.987 <BR>order: 5"],"mode":"markers","type":"scatter","name":"5","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.103498049814195,0.106016399987715,0.131721998710113,0.142378919566352,0.151377414698566,0.106968459199656,0.12696170265041,0.104603666963545,0.126040355025951,0.108411903811308,0.143300267190811,0.101747489327723,0.105248610300666,0.113878566383096,0.107214151899512,0.112895795583674,0.133165443321765,0.138324990018734],"y":[0.997631734754292,0.996823563384349,0.995358551868183,0.994636344132161,0.994351422231188,0.994006849315068,0.993033869805429,0.992713494607986,0.988439306358382,0.988241881298992,0.987095409350539,0.986893059279118,0.986754966887417,0.986695050558808,0.985601355166573,0.985522788203753,0.983219954648526,0.983191442916394],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.998 <BR>order: 4","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.106 <BR>confidence: 0.997 <BR>order: 4","[6]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.132 <BR>confidence: 0.995 <BR>order: 4","[8]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>confidence: 0.995 <BR>order: 4","[9]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.994 <BR>order: 4","[10]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.994 <BR>order: 4","[12]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>confidence: 0.993 <BR>order: 4","[13]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.993 <BR>order: 4","[17]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.126 <BR>confidence: 0.988 <BR>order: 4","[18]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.108 <BR>confidence: 0.988 <BR>order: 4","[22]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.143 <BR>confidence: 0.987 <BR>order: 4","[23]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.987 <BR>order: 4","[25]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.987 <BR>order: 4","[26]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.114 <BR>confidence: 0.987 <BR>order: 4","[28]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.986 <BR>order: 4","[29]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.986 <BR>order: 4","[32]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.133 <BR>confidence: 0.983 <BR>order: 4","[33]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.138 <BR>confidence: 0.983 <BR>order: 4"],"mode":"markers","type":"scatter","name":"4","marker":{"color":"rgba(53,183,121,1)","line":{"color":"rgba(53,183,121,1)"}},"textfont":{"color":"rgba(53,183,121,1)"},"error_y":{"color":"rgba(53,183,121,1)"},"error_x":{"color":"rgba(53,183,121,1)"},"line":{"color":"rgba(53,183,121,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.107091305549584,0.166548938914653,0.13669727588219,0.100089063603698,0.117318264181076,0.142256073216425,0.123614139614877,0.126777433125518,0.181904732655631,0.153895764872086,0.174687509597371],"y":[0.997140406062339,0.993951612903226,0.992419175027871,0.98877427184466,0.987845875355573,0.987422724365807,0.986519607843137,0.98543805204106,0.983560278977084,0.983127329801844,0.982383419689119],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.997 <BR>order: 3","[11]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.167 <BR>confidence: 0.994 <BR>order: 3","[14]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.137 <BR>confidence: 0.992 <BR>order: 3","[16]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.1 <BR>confidence: 0.989 <BR>order: 3","[19]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.117 <BR>confidence: 0.988 <BR>order: 3","[20]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.142 <BR>confidence: 0.987 <BR>order: 3","[27]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.124 <BR>confidence: 0.987 <BR>order: 3","[30]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.127 <BR>confidence: 0.985 <BR>order: 3","[31]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.182 <BR>confidence: 0.984 <BR>order: 3","[34]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>confidence: 0.983 <BR>order: 3","[35]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.175 <BR>confidence: 0.982 <BR>order: 3"],"mode":"markers","type":"scatter","name":"3","marker":{"color":"rgba(49,104,142,1)","line":{"color":"rgba(49,104,142,1)"}},"textfont":{"color":"rgba(49,104,142,1)"},"error_y":{"color":"rgba(49,104,142,1)"},"error_x":{"color":"rgba(49,104,142,1)"},"line":{"color":"rgba(49,104,142,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.153588648997267,0.193390866373883],"y":[0.986779794790845,0.982218062704726],"hoverinfo":["text","text"],"text":["[24]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.154 <BR>confidence: 0.987 <BR>order: 2","[36]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>support: 0.193 <BR>confidence: 0.982 <BR>order: 2"],"mode":"markers","type":"scatter","name":"2","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

#### Discussion

Here we see our parameter expanding show differeng itemset levels. With the higher confidence level, we've gotten rid of more of the two quantity itemsets, but increased the number of higher order-itemsets.  For instance, We now have 5 5-item rulesets with different combinations of all the factors we saw in the previous plot. (Young, never-married, own-child, Diploma, Private, White, United-States).  

# Targeting Small and Large Income  

#### Small Income

Now that we've scanned a couple of different variations of apriori and generated
rules accordingly.  Lets split up the targeting in the rhs section to only
target one of the income brackets at a time.  First we'll start with low income.


```r
rule_small <- apriori(data, parameter = list(minlen = 2, supp = 0.12, conf = 0.95), 
    appearance = list(rhs = c("income_bracket=small"), default = "lhs"), control = list(verbose = F))
length(rule_small)
```

```
#> [1] 45
```

```r
redundant <- is.redundant(rule_small)
rulep <- rule_small[redundant == FALSE]
rulesorted_small <- sort(rulep, by = "lift", decreasing = TRUE)
length(rulesorted_small)
```

```
#> [1] 25
```


```r
head(quality(rulesorted_small))
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["support"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["confidence"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lift"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["count"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.1317220","2":"0.9953586","3":"1.311079","4":"4289","_rn_":"21"},{"1":"0.1321212","2":"0.9946821","3":"1.310188","4":"4302","_rn_":"38"},{"1":"0.1423789","2":"0.9946363","3":"1.310128","4":"4636","_rn_":"22"},{"1":"0.1513774","2":"0.9943514","3":"1.309752","4":"4929","_rn_":"23"},{"1":"0.1665489","2":"0.9939516","3":"1.309226","4":"5423","_rn_":"7"},{"1":"0.1269617","2":"0.9930339","3":"1.308017","4":"4134","_rn_":"19"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

```r
inspectDT(rulesorted_small)
```

<!--html_preserve--><div id="htmlwidget-76b07c085411cb85da72" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-76b07c085411cb85da72">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.123614139614876\" data-max=\"0.313012499616106\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.954039127585884\" data-max=\"0.995358551868183\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1.25665323759401\" data-max=\"1.31107887570307\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"4025\" data-max=\"10192\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]"],["{age=Young,workclass=Private,marital_status=Never-married}","{age=Young,marital_status=Never-married,race=White,native_country=United-States}","{age=Young,marital_status=Never-married,race=White}","{age=Young,marital_status=Never-married,native_country=United-States}","{age=Young,marital_status=Never-married}","{marital_status=Never-married,relationship=Own-child,native_country=United-States}","{marital_status=Never-married,relationship=Own-child}","{education=Diploma,marital_status=Never-married,hours_per_week=full-time}","{relationship=Own-child,native_country=United-States}","{workclass=Private,education=Diploma,marital_status=Never-married,native_country=United-States}","{workclass=Private,education=Diploma,marital_status=Never-married}","{relationship=Own-child}","{age=Young,education=Diploma}","{age=Young,hours_per_week=full-time}","{education=Diploma,marital_status=Never-married}","{age=Young,workclass=Private,race=White}","{age=Young,workclass=Private,native_country=United-States}","{age=Young,workclass=Private}","{age=Young,native_country=United-States}","{age=Young}","{workclass=Private,marital_status=Never-married,hours_per_week=full-time}","{marital_status=Never-married,hours_per_week=full-time}","{marital_status=Never-married,gender=Female}","{workclass=Private,marital_status=Never-married}","{marital_status=Never-married}"],["{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}"],[0.131721998710113,0.132121249347379,0.142378919566352,0.151377414698566,0.166548938914653,0.12696170265041,0.13669727588219,0.126040355025951,0.142256073216425,0.130585669973281,0.143300267190811,0.153588648997267,0.123614139614877,0.126777433125518,0.181904732655631,0.133165443321765,0.138324990018734,0.153895764872086,0.174687509597371,0.193390866373883,0.161850066029913,0.207272503915727,0.141304014004484,0.241331654433218,0.313012499616105],[0.995358551868183,0.994682080924855,0.994636344132161,0.994351422231188,0.993951612903226,0.993033869805429,0.992419175027871,0.988439306358382,0.987422724365807,0.987230090550267,0.987095409350539,0.986779794790845,0.986519607843137,0.98543805204106,0.983560278977084,0.983219954648526,0.983191442916394,0.983127329801844,0.982383419689119,0.982218062704726,0.974662474570002,0.970939433175083,0.965177260331445,0.959931590520401,0.954039127585884],[1.31107887570307,1.31018783321174,1.31012758904884,1.30975229204166,1.30922566617079,1.30801682179347,1.30720715040787,1.30196489702003,1.30062586278621,1.30037212695822,1.30019472588442,1.29977900073563,1.29943628442477,1.29801166717269,1.29553827846977,1.29509000579736,1.29505245035602,1.29496800103875,1.29398812817546,1.29377032118643,1.28381815673438,1.27891419432095,1.27132430314127,1.2644147459116,1.25665323759401],[4289,4302,4636,4929,5423,4134,4451,4104,4632,4252,4666,5001,4025,4128,5923,4336,4504,5011,5688,6297,5270,6749,4601,7858,10192]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 7, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->

It looks like we've generated 25 rules for the low income bracket.  Lets take a
look at the scatter plot and find our releveant itemsets/rules


```r
plot(rulesorted_small, method = "scatterplot", measure = c("confidence", "support"), 
    shading = "lift", engine = "htmlwidget")
```

<!--html_preserve--><div id="htmlwidget-a0000030f1b2594a6257" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a0000030f1b2594a6257">{"x":{"visdat":{"3dc7ddeb6ad":["function () ","plotlyVisDat"]},"cur_data":"3dc7ddeb6ad","attrs":{"3dc7ddeb6ad":{"x":[0.954039127585884,0.959931590520401,0.965177260331445,0.970939433175083,0.974662474570002,0.982218062704726,0.982383419689119,0.983127329801844,0.983191442916394,0.983219954648526,0.983560278977084,0.98543805204106,0.986519607843137,0.986779794790845,0.987095409350539,0.987230090550267,0.987422724365807,0.988439306358382,0.992419175027871,0.993033869805429,0.993951612903226,0.994351422231188,0.994636344132161,0.994682080924855,0.995358551868183],"y":[0.313012499616105,0.241331654433218,0.141304014004484,0.207272503915727,0.161850066029913,0.193390866373883,0.174687509597371,0.153895764872086,0.138324990018734,0.133165443321765,0.181904732655631,0.126777433125518,0.123614139614877,0.153588648997267,0.143300267190811,0.130585669973281,0.142256073216425,0.126040355025951,0.13669727588219,0.12696170265041,0.166548938914653,0.151377414698566,0.142378919566352,0.132121249347379,0.131721998710113],"hoverinfo":"text","text":["[25]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.954 <BR>support: 0.313 <BR>lift: 1.26","[24]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.96 <BR>support: 0.241 <BR>lift: 1.26","[23]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.965 <BR>support: 0.141 <BR>lift: 1.27","[22]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.971 <BR>support: 0.207 <BR>lift: 1.28","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.975 <BR>support: 0.162 <BR>lift: 1.28","[20]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.982 <BR>support: 0.193 <BR>lift: 1.29","[19]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.982 <BR>support: 0.175 <BR>lift: 1.29","[18]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.154 <BR>lift: 1.29","[17]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.138 <BR>lift: 1.3","[16]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.133 <BR>lift: 1.3","[15]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.984 <BR>support: 0.182 <BR>lift: 1.3","[14]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.985 <BR>support: 0.127 <BR>lift: 1.3","[13]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.124 <BR>lift: 1.3","[12]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.154 <BR>lift: 1.3","[11]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.143 <BR>lift: 1.3","[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.131 <BR>lift: 1.3","[9]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.142 <BR>lift: 1.3","[8]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.988 <BR>support: 0.126 <BR>lift: 1.3","[7]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.992 <BR>support: 0.137 <BR>lift: 1.31","[6]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.993 <BR>support: 0.127 <BR>lift: 1.31","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.994 <BR>support: 0.167 <BR>lift: 1.31","[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.994 <BR>support: 0.151 <BR>lift: 1.31","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.142 <BR>lift: 1.31","[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.132 <BR>lift: 1.31","[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.132 <BR>lift: 1.31"],"mode":"markers","marker":[],"color":[1.25665323759401,1.2644147459116,1.27132430314127,1.27891419432095,1.28381815673438,1.29377032118643,1.29398812817546,1.29496800103875,1.29505245035602,1.29509000579736,1.29553827846977,1.29801166717269,1.29943628442477,1.29977900073563,1.30019472588442,1.30037212695822,1.30062586278621,1.30196489702003,1.30720715040787,1.30801682179347,1.30922566617079,1.30975229204166,1.31012758904884,1.31018783321174,1.31107887570307],"colors":["#EEEEEEFF","#EE0000FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"confidence"},"yaxis":{"domain":[0,1],"automargin":true,"title":"support"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.954039127585884,0.959931590520401,0.965177260331445,0.970939433175083,0.974662474570002,0.982218062704726,0.982383419689119,0.983127329801844,0.983191442916394,0.983219954648526,0.983560278977084,0.98543805204106,0.986519607843137,0.986779794790845,0.987095409350539,0.987230090550267,0.987422724365807,0.988439306358382,0.992419175027871,0.993033869805429,0.993951612903226,0.994351422231188,0.994636344132161,0.994682080924855,0.995358551868183],"y":[0.313012499616105,0.241331654433218,0.141304014004484,0.207272503915727,0.161850066029913,0.193390866373883,0.174687509597371,0.153895764872086,0.138324990018734,0.133165443321765,0.181904732655631,0.126777433125518,0.123614139614877,0.153588648997267,0.143300267190811,0.130585669973281,0.142256073216425,0.126040355025951,0.13669727588219,0.12696170265041,0.166548938914653,0.151377414698566,0.142378919566352,0.132121249347379,0.131721998710113],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[25]<BR> <B>{marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.954 <BR>support: 0.313 <BR>lift: 1.26","[24]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.96 <BR>support: 0.241 <BR>lift: 1.26","[23]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;gender=Female}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.965 <BR>support: 0.141 <BR>lift: 1.27","[22]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.971 <BR>support: 0.207 <BR>lift: 1.28","[21]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.975 <BR>support: 0.162 <BR>lift: 1.28","[20]<BR> <B>{age=Young}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.982 <BR>support: 0.193 <BR>lift: 1.29","[19]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.982 <BR>support: 0.175 <BR>lift: 1.29","[18]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.154 <BR>lift: 1.29","[17]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.138 <BR>lift: 1.3","[16]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.983 <BR>support: 0.133 <BR>lift: 1.3","[15]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.984 <BR>support: 0.182 <BR>lift: 1.3","[14]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.985 <BR>support: 0.127 <BR>lift: 1.3","[13]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;education=Diploma}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.124 <BR>lift: 1.3","[12]<BR> <B>{relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.154 <BR>lift: 1.3","[11]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.143 <BR>lift: 1.3","[10]<BR> <B>{workclass=Private,<BR>&nbsp;&nbsp;education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.131 <BR>lift: 1.3","[9]<BR> <B>{relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.987 <BR>support: 0.142 <BR>lift: 1.3","[8]<BR> <B>{education=Diploma,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;hours_per_week=full-time}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.988 <BR>support: 0.126 <BR>lift: 1.3","[7]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.992 <BR>support: 0.137 <BR>lift: 1.31","[6]<BR> <B>{marital_status=Never-married,<BR>&nbsp;&nbsp;relationship=Own-child,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.993 <BR>support: 0.127 <BR>lift: 1.31","[5]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.994 <BR>support: 0.167 <BR>lift: 1.31","[4]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.994 <BR>support: 0.151 <BR>lift: 1.31","[3]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.142 <BR>lift: 1.31","[2]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;marital_status=Never-married,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.132 <BR>lift: 1.31","[1]<BR> <B>{age=Young,<BR>&nbsp;&nbsp;workclass=Private,<BR>&nbsp;&nbsp;marital_status=Never-married}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=small}<\/B> <BR><BR>confidence: 0.995 <BR>support: 0.132 <BR>lift: 1.31"],"mode":"markers","type":"scatter","marker":{"colorbar":{"title":"","ticklen":2},"cmin":1.25665323759401,"cmax":1.31107887570307,"colorscale":[["0","rgba(238,238,238,1)"],["0.041666666666667","rgba(241,231,228,1)"],["0.083333333333334","rgba(244,223,218,1)"],["0.125000000000001","rgba(247,216,208,1)"],["0.166666666666668","rgba(249,208,198,1)"],["0.208333333333335","rgba(251,201,188,1)"],["0.249999999999998","rgba(252,193,178,1)"],["0.291666666666665","rgba(253,186,168,1)"],["0.333333333333332","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666666","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333334","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666668","rgba(252,114,83,1)"],["0.708333333333335","rgba(251,106,74,1)"],["0.750000000000002","rgba(249,96,65,1)"],["0.791666666666665","rgba(248,87,56,1)"],["0.833333333333332","rgba(246,76,46,1)"],["0.874999999999999","rgba(244,65,37,1)"],["0.916666666666666","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[1.25665323759401,1.2644147459116,1.27132430314127,1.27891419432095,1.28381815673438,1.29377032118643,1.29398812817546,1.29496800103875,1.29505245035602,1.29509000579736,1.29553827846977,1.29801166717269,1.29943628442477,1.29977900073563,1.30019472588442,1.30037212695822,1.30062586278621,1.30196489702003,1.30720715040787,1.30801682179347,1.30922566617079,1.30975229204166,1.31012758904884,1.31018783321174,1.31107887570307],"line":{"colorbar":{"title":"","ticklen":2},"cmin":1.25665323759401,"cmax":1.31107887570307,"colorscale":[["0","rgba(238,238,238,1)"],["0.041666666666667","rgba(241,231,228,1)"],["0.083333333333334","rgba(244,223,218,1)"],["0.125000000000001","rgba(247,216,208,1)"],["0.166666666666668","rgba(249,208,198,1)"],["0.208333333333335","rgba(251,201,188,1)"],["0.249999999999998","rgba(252,193,178,1)"],["0.291666666666665","rgba(253,186,168,1)"],["0.333333333333332","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666666","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333334","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666668","rgba(252,114,83,1)"],["0.708333333333335","rgba(251,106,74,1)"],["0.750000000000002","rgba(249,96,65,1)"],["0.791666666666665","rgba(248,87,56,1)"],["0.833333333333332","rgba(246,76,46,1)"],["0.874999999999999","rgba(244,65,37,1)"],["0.916666666666666","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[1.25665323759401,1.2644147459116,1.27132430314127,1.27891419432095,1.28381815673438,1.29377032118643,1.29398812817546,1.29496800103875,1.29505245035602,1.29509000579736,1.29553827846977,1.29801166717269,1.29943628442477,1.29977900073563,1.30019472588442,1.30037212695822,1.30062586278621,1.30196489702003,1.30720715040787,1.30801682179347,1.30922566617079,1.30975229204166,1.31012758904884,1.31018783321174,1.31107887570307]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.954039127585884,0.995358551868183],"y":[0.123614139614877,0.313012499616105],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"lift","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":1.25665323759401,"cmax":1.31107887570307,"colorscale":[["0","rgba(238,238,238,1)"],["0.041666666666667","rgba(241,231,228,1)"],["0.083333333333334","rgba(244,223,218,1)"],["0.125000000000001","rgba(247,216,208,1)"],["0.166666666666668","rgba(249,208,198,1)"],["0.208333333333335","rgba(251,201,188,1)"],["0.249999999999998","rgba(252,193,178,1)"],["0.291666666666665","rgba(253,186,168,1)"],["0.333333333333332","rgba(254,178,158,1)"],["0.374999999999999","rgba(255,171,149,1)"],["0.416666666666666","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333334","rgba(254,131,102,1)"],["0.625000000000001","rgba(253,123,92,1)"],["0.666666666666668","rgba(252,114,83,1)"],["0.708333333333335","rgba(251,106,74,1)"],["0.750000000000002","rgba(249,96,65,1)"],["0.791666666666665","rgba(248,87,56,1)"],["0.833333333333332","rgba(246,76,46,1)"],["0.874999999999999","rgba(244,65,37,1)"],["0.916666666666666","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":true,"color":[1.25665323759401,1.31107887570307],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

We will discuss the results from small income targeting in the conclusion section.

#### Large Income

Our next step is to now target the large income bracket and see what rules shake
out


```r
rule_large <- apriori(data, parameter = list(minlen = 2, supp = 0.05, conf = 0.55), 
    appearance = list(rhs = c("income_bracket=large"), default = "lhs"), control = list(verbose = F))
length(rule_large)
```

```
#> [1] 53
```

```r
redundant <- is.redundant(rule_large)
rulep <- rule_large[redundant == FALSE]
rulesorted_large <- sort(rulep, by = "lift", decreasing = TRUE)
length(rulesorted_large)
```

```
#> [1] 15
```


```r
head(quality(rulesorted_large))
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["support"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["confidence"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lift"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["count"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.05153404","2":"0.6832248","3":"2.837199","4":"1678","_rn_":"11"},{"1":"0.05116550","2":"0.6816694","3":"2.830741","4":"1666","_rn_":"1"},{"1":"0.05205614","2":"0.6782713","3":"2.816630","4":"1695","_rn_":"10"},{"1":"0.05055127","2":"0.6765310","3":"2.809403","4":"1646","_rn_":"3"},{"1":"0.05067412","2":"0.6715507","3":"2.788721","4":"1650","_rn_":"9"},{"1":"0.05696999","2":"0.6701590","3":"2.782942","4":"1855","_rn_":"4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

```r
inspectDT(rulesorted_large)
```

<!--html_preserve--><div id="htmlwidget-10a77a46ba2ae27a4369" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-10a77a46ba2ae27a4369">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.050551272995301\" data-max=\"0.088234390835663\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.563664900922111\" data-max=\"0.683224755700326\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"2.34070817994195\" data-max=\"2.83719949883412\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1646\" data-max=\"2873\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]"],["{education=Bachelors,marital_status=Married-civ-spouse,native_country=United-States}","{marital_status=Married-civ-spouse,occupation=Exec-managerial}","{education=Bachelors,marital_status=Married-civ-spouse,race=White}","{education=Bachelors,relationship=Husband}","{education=Bachelors,marital_status=Married-civ-spouse,gender=Male}","{education=Bachelors,marital_status=Married-civ-spouse}","{occupation=Exec-managerial,gender=Male}","{marital_status=Married-civ-spouse,race=White,hours_per_week=hard-working,native_country=United-States}","{relationship=Husband,race=White,hours_per_week=hard-working,native_country=United-States}","{marital_status=Married-civ-spouse,race=White,hours_per_week=hard-working}","{relationship=Husband,race=White,hours_per_week=hard-working}","{marital_status=Married-civ-spouse,hours_per_week=hard-working,native_country=United-States}","{relationship=Husband,hours_per_week=hard-working,native_country=United-States}","{relationship=Husband,hours_per_week=hard-working}","{marital_status=Married-civ-spouse,hours_per_week=hard-working}"],["{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}","{income_bracket=large}"],[0.0515340437947237,0.0511655047449403,0.052056140781917,0.0505512729953011,0.050674119345229,0.0569699947790301,0.0518411596695433,0.0787752218912196,0.0746598691686373,0.0833205368385492,0.0788673566536654,0.0817849574644513,0.0772089309296397,0.0831669789011394,0.0882343908356623],[0.683224755700326,0.681669394435352,0.678271308523409,0.676531031648171,0.671550671550671,0.670158959537572,0.580667354661163,0.569241011984021,0.568256194483403,0.568048576214405,0.567513812154696,0.565753133630763,0.565070802427512,0.564401834097541,0.563664900922111],[2.83719949883412,2.83074061372395,2.81662952134048,2.80940274473869,2.7887210070605,2.78294170150528,2.41131357417703,2.3638638682836,2.35977425692821,2.35891208903421,2.35669139619552,2.34937989850163,2.3465464096215,2.3437684121987,2.34070817994195],[1678,1666,1695,1646,1650,1855,1688,2565,2431,2713,2568,2663,2514,2708,2873]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 7, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->

It looks like we've generated 25 rules for the low income bracket.  Lets take a
look at the scatter plot and find our releveant itemsets/rules


```r
plot(rulesorted_large, method = "scatterplot", measure = c("confidence", "support"), 
    shading = "lift", engine = "htmlwidget")
```

<!--html_preserve--><div id="htmlwidget-b465f292efca33fc5d0f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b465f292efca33fc5d0f">{"x":{"visdat":{"3dc7396a5c7e":["function () ","plotlyVisDat"]},"cur_data":"3dc7396a5c7e","attrs":{"3dc7396a5c7e":{"x":[0.563664900922111,0.564401834097541,0.565070802427512,0.565753133630763,0.567513812154696,0.568048576214405,0.568256194483403,0.569241011984021,0.580667354661163,0.670158959537572,0.671550671550671,0.676531031648171,0.678271308523409,0.681669394435352,0.683224755700326],"y":[0.0882343908356623,0.0831669789011394,0.0772089309296397,0.0817849574644513,0.0788673566536654,0.0833205368385492,0.0746598691686373,0.0787752218912196,0.0518411596695433,0.0569699947790301,0.050674119345229,0.0505512729953011,0.052056140781917,0.0511655047449403,0.0515340437947237],"hoverinfo":"text","text":["[15]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.564 <BR>support: 0.0882 <BR>lift: 2.34","[14]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.564 <BR>support: 0.0832 <BR>lift: 2.34","[13]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.565 <BR>support: 0.0772 <BR>lift: 2.35","[12]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.566 <BR>support: 0.0818 <BR>lift: 2.35","[11]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0789 <BR>lift: 2.36","[10]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0833 <BR>lift: 2.36","[9]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0747 <BR>lift: 2.36","[8]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.569 <BR>support: 0.0788 <BR>lift: 2.36","[7]<BR> <B>{occupation=Exec-managerial,<BR>&nbsp;&nbsp;gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.581 <BR>support: 0.0518 <BR>lift: 2.41","[6]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.67 <BR>support: 0.057 <BR>lift: 2.78","[5]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.672 <BR>support: 0.0507 <BR>lift: 2.79","[4]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.677 <BR>support: 0.0506 <BR>lift: 2.81","[3]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.678 <BR>support: 0.0521 <BR>lift: 2.82","[2]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;occupation=Exec-managerial}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.682 <BR>support: 0.0512 <BR>lift: 2.83","[1]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.683 <BR>support: 0.0515 <BR>lift: 2.84"],"mode":"markers","marker":[],"color":[2.34070817994195,2.3437684121987,2.3465464096215,2.34937989850163,2.35669139619552,2.35891208903421,2.35977425692821,2.3638638682836,2.41131357417703,2.78294170150528,2.7887210070605,2.80940274473869,2.81662952134048,2.83074061372395,2.83719949883412],"colors":["#EEEEEEFF","#EE0000FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"confidence"},"yaxis":{"domain":[0,1],"automargin":true,"title":"support"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0.563664900922111,0.564401834097541,0.565070802427512,0.565753133630763,0.567513812154696,0.568048576214405,0.568256194483403,0.569241011984021,0.580667354661163,0.670158959537572,0.671550671550671,0.676531031648171,0.678271308523409,0.681669394435352,0.683224755700326],"y":[0.0882343908356623,0.0831669789011394,0.0772089309296397,0.0817849574644513,0.0788673566536654,0.0833205368385492,0.0746598691686373,0.0787752218912196,0.0518411596695433,0.0569699947790301,0.050674119345229,0.0505512729953011,0.052056140781917,0.0511655047449403,0.0515340437947237],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[15]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.564 <BR>support: 0.0882 <BR>lift: 2.34","[14]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.564 <BR>support: 0.0832 <BR>lift: 2.34","[13]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.565 <BR>support: 0.0772 <BR>lift: 2.35","[12]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.566 <BR>support: 0.0818 <BR>lift: 2.35","[11]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0789 <BR>lift: 2.36","[10]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0833 <BR>lift: 2.36","[9]<BR> <B>{relationship=Husband,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.568 <BR>support: 0.0747 <BR>lift: 2.36","[8]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White,<BR>&nbsp;&nbsp;hours_per_week=hard-working,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.569 <BR>support: 0.0788 <BR>lift: 2.36","[7]<BR> <B>{occupation=Exec-managerial,<BR>&nbsp;&nbsp;gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.581 <BR>support: 0.0518 <BR>lift: 2.41","[6]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.67 <BR>support: 0.057 <BR>lift: 2.78","[5]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;gender=Male}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.672 <BR>support: 0.0507 <BR>lift: 2.79","[4]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;relationship=Husband}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.677 <BR>support: 0.0506 <BR>lift: 2.81","[3]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;race=White}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.678 <BR>support: 0.0521 <BR>lift: 2.82","[2]<BR> <B>{marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;occupation=Exec-managerial}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.682 <BR>support: 0.0512 <BR>lift: 2.83","[1]<BR> <B>{education=Bachelors,<BR>&nbsp;&nbsp;marital_status=Married-civ-spouse,<BR>&nbsp;&nbsp;native_country=United-States}<\/B><BR>&nbsp;&nbsp; => <B>{income_bracket=large}<\/B> <BR><BR>confidence: 0.683 <BR>support: 0.0515 <BR>lift: 2.84"],"mode":"markers","type":"scatter","marker":{"colorbar":{"title":"","ticklen":2},"cmin":2.34070817994195,"cmax":2.83719949883412,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333332","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666666","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333334","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666666","rgba(252,114,83,1)"],["0.708333333333334","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[2.34070817994195,2.3437684121987,2.3465464096215,2.34937989850163,2.35669139619552,2.35891208903421,2.35977425692821,2.3638638682836,2.41131357417703,2.78294170150528,2.7887210070605,2.80940274473869,2.81662952134048,2.83074061372395,2.83719949883412],"line":{"colorbar":{"title":"","ticklen":2},"cmin":2.34070817994195,"cmax":2.83719949883412,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333332","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666666","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333334","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666666","rgba(252,114,83,1)"],["0.708333333333334","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[2.34070817994195,2.3437684121987,2.3465464096215,2.34937989850163,2.35669139619552,2.35891208903421,2.35977425692821,2.3638638682836,2.41131357417703,2.78294170150528,2.7887210070605,2.80940274473869,2.81662952134048,2.83074061372395,2.83719949883412]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.563664900922111,0.683224755700326],"y":[0.0505512729953011,0.0882343908356623],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"lift","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":2.34070817994195,"cmax":2.83719949883412,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333332","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666666","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333334","rgba(254,178,158,1)"],["0.375","rgba(255,171,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(254,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666666","rgba(252,114,83,1)"],["0.708333333333334","rgba(251,106,74,1)"],["0.75","rgba(249,96,65,1)"],["0.791666666666667","rgba(248,87,56,1)"],["0.833333333333334","rgba(246,76,46,1)"],["0.875","rgba(244,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":true,"color":[2.34070817994195,2.83719949883412],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

We will discuss the results from large income targeting in the conclusion
section.

# Conclusion
### Small Income

Interesting small Income rules:

* Not being married is associated with a low income. Out of our 25 best rules, 16 of them involved not being married, and our five highest lift rules all involved never married. This is clearly not a coincidence, however what this means and the cause of this is not so clear. We propose a few hypotheses about this:

  * Married people, motivated by love, work harder and make more money

  * Shallow society deems people without money harder to marry

* People who are married got married because they are more social, and thus they are given more raises, perform better in interviews, etc. In contrast, people who were not sociable enough to meet someone may not perform as well in interviews etc., giving them fewer opportunities to get a job

* Having just a diploma from high school does not get you out of the lower income bracket. This is unsurprising, as today you need in general a minimum of a college education to start making good money (and even that is difficult). 5 out of our 25 rules involved highest education level = high school diploma

* 12 out of 25 rules involved being young. This makes perfect sense, as entry level jobs which young people get do not pay very well.

* 8 out of 25 rules involved being in the private /housekeeping/server field. This makes sense, as these workers are severly underpaid

* 4 out of 25 rules involved having a child. If you have a child, you ***should*** be spending more time with them, and maybe focusing a little less on your career. Therefore, you will probably earn less. This pattern makes sense.

* The rules for our small income target have a support of 12% and confidence of 95%. This means that (never-married, Diploma, Young, Private/housekeeper/server, and child) are observed in 12% of the dataset. We therefore believe that 95% of the time any of the attributes (never-married, Diploma, Young, Private/housekeeper/server, and child) are present, it will result in a small income.

### Large Income

Interesting large Income rules:

*	Thankfully, opposite to the small income analysis, large income targeting shows that being married greatly influences your income as it shows up in 9 of the 15 rules present.  Meaning again that by working as a team, you get more out of life.  So go find yourself a husband/wife.  

*	The next highest frequent itemset is hard-working that shows up in 8 of the 15 rules.  Which makes perfect sense that the more time you put into a job, the likelier you are for promotion and advancement within an organization.  

*	Education = Bachelors , native_country = United-States, relationship = husband are present in 5 out of the 15 rules.  

* The rules for our large income target have a support of 05% and confidence of 55%. This means that (married, hard-working, Bachelors, United-States, Husband) are observed in 5% of the dataset. We therefore believe that 55% of the time any of the attributes (married, hard-working, Bachelors, United-States, Husband) are present, it will result in a large income.


# Deployment
Be critical of your performance and tell the reader how you current model might
be usable by other parties. Did you achieve your goals? If not, can you reign in
the utility of your modeling?

* How useful is your model for interested parties (i.e., the companies or organizations that might want to use it)?

* How would your deploy your model for interested parties?

* What other data should be collected?

* How often would the model need to be updated, etc.?

Our current model, wouldn't be a good option for a production environment.  Granted, there is astounding amounts of transacational data out there that can benefit from apriori and associative rule mining.  Due to the trial and error used to isolate various rules and itemsets.  We're not confident that a new dataset will have any similar behavior or show similar itemsets. It is probably best used for the 1990 data on which it was created.  

Overall, i believe our group achieved the goals we set forth.  We learned the process of associative rule mining, discovered new trends and validated those previously seen throughout our analysis of this dataset.  We're satisfied that we've created a useful model for anyone who was looking to analyze Census Data.

  * Interested parties for this dataset could be activist, feminist, political campaigns, or others looking to change public policy through validation of its inhabitants characteristics. The model would theoretically work for other years of Census data (with light variable tweaking), it could also be applied to look for time series trends. 
  
  * Since our model doesn't require long run times, one method would be to deploy an endpoint REST API.  That way users could query for a prediction on income, then get the results back quickly and easily.  Maintenance would be fairly low, so hosting it on an AWS instance might prove frugal and functional.  
  
  * Other data would consist of supplying other years of Census Data to see how if similar rulesets appear over time. Pairing this dataset with economic information could also prove beneficial as i'm sure the economy would influence unemployment rate, salaries in various industries, and a multitude of other factors that influence people's income.  
  
  * Since we're dealing with Census data, a yearly update of the model would be sufficient to maintain its usefulness.



# Exceptional Work


For our exceptional work, we decided to try and optimize the number of rules produced in our apriori algorithm with the RHS being both low and high income. We decided to further optimize it by finding the ruleset which would provide us the highest average lift, while being digestible. To do that, we implemented a fully parallelized grid search.

## Building a Grid

There are two parameters to optimize in the apriori algorithm: confidence and support. Normally, these are chosen using an in depth knowledge of the data combined with an understanding of the goals of the study. Because this research is purely academic, and we are new to the apriori algorithm, we do not have a prior understanding to tell us what support and confidence will be the most useful for us. So, we must optimize both. We will begin by creating two objects, `conf` and `supp`, for confidence and support respectively. Each will be vectors from 0.01 to 0.99:


```r
x <- 1:99
conf <- supp <- x/100
```

Next, we will create a data frame containing all possible combinations of support and confidence:


```r
init <- data.frame(conf = conf, supp = supp)
params <- expand.grid(init)
nrow(params)
```

```
#> [1] 9801
```

## Defining the Search Function

Next, we would like to create a function which we can iterate through. We would like the function to take in a value of support and confidence, maybe a value of appearance (but with defaults for our specific case) and run it through the apriori algorithm. Then, we would like it to prune redundant results from the rule, get the length and average lift of the ruleset, and return those in a convenient labeled vector:


```r
transactions <- data
search <- function(sup, con) {
    rules <- apriori(data = data, parameter = list(minlen = 2, conf = con, supp = sup), 
        appearance = list(rhs = c("income_bracket=small", "income_bracket=large"), 
            default = "lhs"), control = list(verbose = F))
    redundant <- is.redundant(rules)
    rulepruned <- rules[redundant == FALSE]
    rulelength <- length(rulepruned)
    return(data.frame(support = sup, conf = con, nrules = rulelength, avlift = mean(quality(rulepruned)$lift)))
}
```

## Performing the grid search

We will perform the grid search in parallel, in two ways: using R's built in `parallel` library, utilizing a `FORK` cluster (not available on Windows), and using `doParallel` and `foreach`, with a `socket` cluster (cross platform).

### Grid Search using `parallel`

For this, we will use the `mcmapply` (multicore matrix apply). This takes a function, any number of vectors of equal length, pops those vectors into the function, and runs it over the specified number of cores. It outputs them in the form of a list, which we will turn into a data frame



```r
library(parallel)
gs <- mcmapply(search, params[[1]], params[[2]], mc.cores = 12L, SIMPLIFY = F)
results <- do.call(rbind, gs)
```

### Grid Search using `doParallel`

We can use the amazing doParallel library to run our R code in parallel without process forking. Instead, it connects to your computer's CPUs using sockets, which work on all OS's. Because we are not using convenient process forking, we will have to do a little more work to set things up:


```r
libary(doParallel)
library(foreach)
numCores <- parallel::detectCores()
workers <- makeCluster(numCores - 1)
invisible(clusterEvalQ(workers, library(arules)))
registerDoParallel(workers)
```

Now that we are set up with our cluster of CPUs, we can evaluate our grid search in parallel. Note here, we can specify how we combine our outputs. In this case we are going to combine them using rbind, to give the exact same results as our `results` object.


```r
results <- foreach(i = 1:nrow(params), .combine = rbind) %dopar% {
    search(params[i, 1], params[i, 2])
}
```



## Viewing the Results

We now must define what it means to be `digestible`. The authors propose that any functioning human being can get the main idea, or overall pattern, in a set of 20-30 rules. So we will find the rules created that give us that, and we want to also find the rulesets with the highest lift. We will do so using `dplyr`:


```r
results %>% arrange(desc(avlift)) %>% filter(nrules <= 30) %>% filter(nrules >= 
    20) %>% filter(support > 0.15) %>% filter(conf > 0.15)
```

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["support"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["conf"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["nrules"],"name":[3],"type":["int"],"align":["right"]},{"label":["avlift"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.18","2":"0.32","3":"29","4":"1.283067"},{"1":"0.18","2":"0.33","3":"29","4":"1.283067"},{"1":"0.18","2":"0.34","3":"29","4":"1.283067"},{"1":"0.18","2":"0.35","3":"29","4":"1.283067"},{"1":"0.18","2":"0.36","3":"29","4":"1.283067"},{"1":"0.18","2":"0.37","3":"29","4":"1.283067"},{"1":"0.18","2":"0.38","3":"29","4":"1.283067"},{"1":"0.18","2":"0.39","3":"29","4":"1.283067"},{"1":"0.18","2":"0.40","3":"29","4":"1.283067"},{"1":"0.18","2":"0.41","3":"29","4":"1.283067"},{"1":"0.18","2":"0.42","3":"29","4":"1.283067"},{"1":"0.18","2":"0.43","3":"29","4":"1.283067"},{"1":"0.18","2":"0.44","3":"29","4":"1.283067"},{"1":"0.16","2":"0.82","3":"20","4":"1.211831"},{"1":"0.16","2":"0.79","3":"21","4":"1.204993"},{"1":"0.16","2":"0.80","3":"21","4":"1.204993"},{"1":"0.16","2":"0.81","3":"21","4":"1.204993"},{"1":"0.17","2":"0.45","3":"27","4":"1.198298"},{"1":"0.16","2":"0.76","3":"22","4":"1.197001"},{"1":"0.16","2":"0.77","3":"22","4":"1.197001"},{"1":"0.16","2":"0.78","3":"22","4":"1.197001"},{"1":"0.16","2":"0.75","3":"23","4":"1.188148"},{"1":"0.16","2":"0.74","3":"24","4":"1.179482"},{"1":"0.16","2":"0.70","3":"25","4":"1.171072"},{"1":"0.16","2":"0.71","3":"25","4":"1.171072"},{"1":"0.16","2":"0.72","3":"25","4":"1.171072"},{"1":"0.16","2":"0.73","3":"25","4":"1.171072"},{"1":"0.17","2":"0.74","3":"20","4":"1.164694"},{"1":"0.18","2":"0.45","3":"24","4":"1.162583"},{"1":"0.16","2":"0.64","3":"26","4":"1.161203"},{"1":"0.16","2":"0.65","3":"26","4":"1.161203"},{"1":"0.16","2":"0.66","3":"26","4":"1.161203"},{"1":"0.16","2":"0.67","3":"26","4":"1.161203"},{"1":"0.16","2":"0.68","3":"26","4":"1.161203"},{"1":"0.16","2":"0.69","3":"26","4":"1.161203"},{"1":"0.17","2":"0.70","3":"21","4":"1.155385"},{"1":"0.17","2":"0.71","3":"21","4":"1.155385"},{"1":"0.17","2":"0.72","3":"21","4":"1.155385"},{"1":"0.17","2":"0.73","3":"21","4":"1.155385"},{"1":"0.16","2":"0.56","3":"27","4":"1.148956"},{"1":"0.16","2":"0.57","3":"27","4":"1.148956"},{"1":"0.16","2":"0.58","3":"27","4":"1.148956"},{"1":"0.16","2":"0.59","3":"27","4":"1.148956"},{"1":"0.16","2":"0.60","3":"27","4":"1.148956"},{"1":"0.16","2":"0.61","3":"27","4":"1.148956"},{"1":"0.16","2":"0.62","3":"27","4":"1.148956"},{"1":"0.16","2":"0.63","3":"27","4":"1.148956"},{"1":"0.16","2":"0.46","3":"30","4":"1.146918"},{"1":"0.17","2":"0.56","3":"22","4":"1.144435"},{"1":"0.17","2":"0.57","3":"22","4":"1.144435"},{"1":"0.17","2":"0.58","3":"22","4":"1.144435"},{"1":"0.17","2":"0.59","3":"22","4":"1.144435"},{"1":"0.17","2":"0.60","3":"22","4":"1.144435"},{"1":"0.17","2":"0.61","3":"22","4":"1.144435"},{"1":"0.17","2":"0.62","3":"22","4":"1.144435"},{"1":"0.17","2":"0.63","3":"22","4":"1.144435"},{"1":"0.17","2":"0.64","3":"22","4":"1.144435"},{"1":"0.17","2":"0.65","3":"22","4":"1.144435"},{"1":"0.17","2":"0.66","3":"22","4":"1.144435"},{"1":"0.17","2":"0.67","3":"22","4":"1.144435"},{"1":"0.17","2":"0.68","3":"22","4":"1.144435"},{"1":"0.17","2":"0.69","3":"22","4":"1.144435"},{"1":"0.17","2":"0.46","3":"25","4":"1.142532"},{"1":"0.18","2":"0.56","3":"20","4":"1.132816"},{"1":"0.18","2":"0.57","3":"20","4":"1.132816"},{"1":"0.18","2":"0.58","3":"20","4":"1.132816"},{"1":"0.18","2":"0.59","3":"20","4":"1.132816"},{"1":"0.18","2":"0.60","3":"20","4":"1.132816"},{"1":"0.18","2":"0.61","3":"20","4":"1.132816"},{"1":"0.18","2":"0.62","3":"20","4":"1.132816"},{"1":"0.18","2":"0.63","3":"20","4":"1.132816"},{"1":"0.18","2":"0.64","3":"20","4":"1.132816"},{"1":"0.18","2":"0.65","3":"20","4":"1.132816"},{"1":"0.18","2":"0.66","3":"20","4":"1.132816"},{"1":"0.18","2":"0.67","3":"20","4":"1.132816"},{"1":"0.18","2":"0.68","3":"20","4":"1.132816"},{"1":"0.18","2":"0.69","3":"20","4":"1.132816"},{"1":"0.19","2":"0.27","3":"23","4":"1.127868"},{"1":"0.19","2":"0.28","3":"23","4":"1.127868"},{"1":"0.19","2":"0.29","3":"23","4":"1.127868"},{"1":"0.19","2":"0.30","3":"23","4":"1.127868"},{"1":"0.19","2":"0.26","3":"24","4":"1.126147"},{"1":"0.19","2":"0.25","3":"25","4":"1.123602"},{"1":"0.19","2":"0.31","3":"22","4":"1.121424"},{"1":"0.19","2":"0.32","3":"22","4":"1.121424"},{"1":"0.19","2":"0.33","3":"22","4":"1.121424"},{"1":"0.19","2":"0.34","3":"22","4":"1.121424"},{"1":"0.19","2":"0.35","3":"22","4":"1.121424"},{"1":"0.19","2":"0.36","3":"22","4":"1.121424"},{"1":"0.19","2":"0.37","3":"22","4":"1.121424"},{"1":"0.19","2":"0.38","3":"22","4":"1.121424"},{"1":"0.19","2":"0.39","3":"22","4":"1.121424"},{"1":"0.19","2":"0.40","3":"22","4":"1.121424"},{"1":"0.19","2":"0.41","3":"22","4":"1.121424"},{"1":"0.19","2":"0.42","3":"22","4":"1.121424"},{"1":"0.19","2":"0.43","3":"22","4":"1.121424"},{"1":"0.19","2":"0.44","3":"22","4":"1.121424"},{"1":"0.20","2":"0.27","3":"22","4":"1.120326"},{"1":"0.20","2":"0.28","3":"22","4":"1.120326"},{"1":"0.20","2":"0.29","3":"22","4":"1.120326"},{"1":"0.20","2":"0.30","3":"22","4":"1.120326"},{"1":"0.16","2":"0.47","3":"29","4":"1.119888"},{"1":"0.16","2":"0.48","3":"29","4":"1.119888"},{"1":"0.16","2":"0.49","3":"29","4":"1.119888"},{"1":"0.16","2":"0.50","3":"29","4":"1.119888"},{"1":"0.16","2":"0.51","3":"29","4":"1.119888"},{"1":"0.16","2":"0.52","3":"29","4":"1.119888"},{"1":"0.16","2":"0.53","3":"29","4":"1.119888"},{"1":"0.16","2":"0.54","3":"29","4":"1.119888"},{"1":"0.16","2":"0.55","3":"29","4":"1.119888"},{"1":"0.19","2":"0.16","3":"26","4":"1.119650"},{"1":"0.19","2":"0.17","3":"26","4":"1.119650"},{"1":"0.19","2":"0.18","3":"26","4":"1.119650"},{"1":"0.19","2":"0.19","3":"26","4":"1.119650"},{"1":"0.19","2":"0.20","3":"26","4":"1.119650"},{"1":"0.19","2":"0.21","3":"26","4":"1.119650"},{"1":"0.19","2":"0.22","3":"26","4":"1.119650"},{"1":"0.19","2":"0.23","3":"26","4":"1.119650"},{"1":"0.19","2":"0.24","3":"26","4":"1.119650"},{"1":"0.20","2":"0.26","3":"23","4":"1.118860"},{"1":"0.20","2":"0.25","3":"24","4":"1.116511"},{"1":"0.20","2":"0.31","3":"21","4":"1.113217"},{"1":"0.20","2":"0.32","3":"21","4":"1.113217"},{"1":"0.20","2":"0.33","3":"21","4":"1.113217"},{"1":"0.20","2":"0.34","3":"21","4":"1.113217"},{"1":"0.20","2":"0.35","3":"21","4":"1.113217"},{"1":"0.20","2":"0.36","3":"21","4":"1.113217"},{"1":"0.20","2":"0.37","3":"21","4":"1.113217"},{"1":"0.20","2":"0.38","3":"21","4":"1.113217"},{"1":"0.20","2":"0.39","3":"21","4":"1.113217"},{"1":"0.20","2":"0.40","3":"21","4":"1.113217"},{"1":"0.20","2":"0.41","3":"21","4":"1.113217"},{"1":"0.20","2":"0.42","3":"21","4":"1.113217"},{"1":"0.20","2":"0.43","3":"21","4":"1.113217"},{"1":"0.20","2":"0.44","3":"21","4":"1.113217"},{"1":"0.20","2":"0.16","3":"25","4":"1.112685"},{"1":"0.20","2":"0.17","3":"25","4":"1.112685"},{"1":"0.20","2":"0.18","3":"25","4":"1.112685"},{"1":"0.20","2":"0.19","3":"25","4":"1.112685"},{"1":"0.20","2":"0.20","3":"25","4":"1.112685"},{"1":"0.20","2":"0.21","3":"25","4":"1.112685"},{"1":"0.20","2":"0.22","3":"25","4":"1.112685"},{"1":"0.20","2":"0.23","3":"25","4":"1.112685"},{"1":"0.20","2":"0.24","3":"25","4":"1.112685"},{"1":"0.17","2":"0.47","3":"24","4":"1.109688"},{"1":"0.17","2":"0.48","3":"24","4":"1.109688"},{"1":"0.17","2":"0.49","3":"24","4":"1.109688"},{"1":"0.17","2":"0.50","3":"24","4":"1.109688"},{"1":"0.17","2":"0.51","3":"24","4":"1.109688"},{"1":"0.17","2":"0.52","3":"24","4":"1.109688"},{"1":"0.17","2":"0.53","3":"24","4":"1.109688"},{"1":"0.17","2":"0.54","3":"24","4":"1.109688"},{"1":"0.17","2":"0.55","3":"24","4":"1.109688"},{"1":"0.18","2":"0.46","3":"22","4":"1.095966"},{"1":"0.18","2":"0.47","3":"22","4":"1.095966"},{"1":"0.18","2":"0.48","3":"22","4":"1.095966"},{"1":"0.18","2":"0.49","3":"22","4":"1.095966"},{"1":"0.18","2":"0.50","3":"22","4":"1.095966"},{"1":"0.18","2":"0.51","3":"22","4":"1.095966"},{"1":"0.18","2":"0.52","3":"22","4":"1.095966"},{"1":"0.18","2":"0.53","3":"22","4":"1.095966"},{"1":"0.18","2":"0.54","3":"22","4":"1.095966"},{"1":"0.18","2":"0.55","3":"22","4":"1.095966"},{"1":"0.19","2":"0.45","3":"21","4":"1.086463"},{"1":"0.19","2":"0.46","3":"21","4":"1.086463"},{"1":"0.19","2":"0.47","3":"21","4":"1.086463"},{"1":"0.19","2":"0.48","3":"21","4":"1.086463"},{"1":"0.19","2":"0.49","3":"21","4":"1.086463"},{"1":"0.19","2":"0.50","3":"21","4":"1.086463"},{"1":"0.19","2":"0.51","3":"21","4":"1.086463"},{"1":"0.19","2":"0.52","3":"21","4":"1.086463"},{"1":"0.19","2":"0.53","3":"21","4":"1.086463"},{"1":"0.19","2":"0.54","3":"21","4":"1.086463"},{"1":"0.19","2":"0.55","3":"21","4":"1.086463"},{"1":"0.20","2":"0.45","3":"20","4":"1.076098"},{"1":"0.20","2":"0.46","3":"20","4":"1.076098"},{"1":"0.20","2":"0.47","3":"20","4":"1.076098"},{"1":"0.20","2":"0.48","3":"20","4":"1.076098"},{"1":"0.20","2":"0.49","3":"20","4":"1.076098"},{"1":"0.20","2":"0.50","3":"20","4":"1.076098"},{"1":"0.20","2":"0.51","3":"20","4":"1.076098"},{"1":"0.20","2":"0.52","3":"20","4":"1.076098"},{"1":"0.20","2":"0.53","3":"20","4":"1.076098"},{"1":"0.20","2":"0.54","3":"20","4":"1.076098"},{"1":"0.20","2":"0.55","3":"20","4":"1.076098"},{"1":"0.21","2":"0.16","3":"20","4":"1.056783"},{"1":"0.21","2":"0.17","3":"20","4":"1.056783"},{"1":"0.21","2":"0.18","3":"20","4":"1.056783"},{"1":"0.21","2":"0.19","3":"20","4":"1.056783"},{"1":"0.21","2":"0.20","3":"20","4":"1.056783"},{"1":"0.21","2":"0.21","3":"20","4":"1.056783"},{"1":"0.21","2":"0.22","3":"20","4":"1.056783"},{"1":"0.21","2":"0.23","3":"20","4":"1.056783"},{"1":"0.21","2":"0.24","3":"20","4":"1.056783"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

### Selection

To select the proper support and confidence for the optimal digestibility, we will select the highest average lift


```r
optimalRules <- apriori(data, parameter = list(conf = 0.18, supp = 0.32), appearance = list(rhs = c("income_bracket=small", 
    "income_bracket=large"), default = "lhs"), control = list(verbose = F))
sortedOptimalRules <- sort(optimalRules, by = "lift", decreasing = TRUE)
inspectDT(sortedOptimalRules)
```

<!--html_preserve--><div id="htmlwidget-25eab2eda8c664da9928" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-25eab2eda8c664da9928">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.320966800773932\" data-max=\"0.759190442553976\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.674842802923015\" data-max=\"0.841385738698152\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.888897916908427\" data-max=\"1.10826703227146\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"10451\" data-max=\"24720\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[10]","[11]","[12]","[13]","[14]","[15]","[16]","[17]","[18]","[19]","[20]","[21]","[22]","[23]","[24]","[25]","[26]"],["{workclass=Private,education=Diploma}","{workclass=Private,hours_per_week=full-time}","{workclass=Private,hours_per_week=full-time,native_country=United-States}","{education=Diploma}","{education=Diploma,native_country=United-States}","{education=Diploma,race=White}","{education=Diploma,race=White,native_country=United-States}","{hours_per_week=full-time}","{hours_per_week=full-time,native_country=United-States}","{race=White,hours_per_week=full-time}","{race=White,hours_per_week=full-time,native_country=United-States}","{workclass=Private}","{workclass=Private,native_country=United-States}","{workclass=Private,race=White}","{}","{workclass=Private,race=White,native_country=United-States}","{native_country=United-States}","{race=White}","{race=White,native_country=United-States}","{age=Middleaged}","{age=Middleaged,native_country=United-States}","{workclass=Private,gender=Male}","{gender=Male}","{gender=Male,native_country=United-States}","{race=White,gender=Male}","{race=White,gender=Male,native_country=United-States}"],["{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}","{income_bracket=small}"],[0.332667915604558,0.370412456619883,0.320966800773932,0.452381683609226,0.416479837842818,0.378182488252818,0.355824452565953,0.499431835631584,0.439636374804214,0.405392954761832,0.366512085009674,0.544608580817542,0.478916495193637,0.456742729031664,0.759190442553976,0.413132274807285,0.675624213015571,0.635699149289027,0.580971100396179,0.373391480605632,0.328276158594638,0.328828967169313,0.464604895427045,0.411197444795922,0.401861122201407,0.365867141672553],[0.841385738698151,0.833805737988248,0.828918147208122,0.827900179856115,0.824778007541662,0.814903050757726,0.812710437710438,0.810991422302015,0.807206495996391,0.798306622316299,0.792272455686118,0.781327106097991,0.774472311894711,0.766439909297052,0.759190442553976,0.75879963898917,0.754165238258485,0.744140063272936,0.738339643261387,0.735822792471101,0.729027417814759,0.716474839400428,0.694263423588802,0.687038177339901,0.682434546782101,0.674842802923016],[1.10826703227146,1.09828271175709,1.09184481356164,1.09050395454268,1.08639145240955,1.07338423283666,1.0704961392512,1.06823186495048,1.0632463881933,1.0515235408269,1.04357538145614,1.02915824844889,1.02012916454707,1.00954894363355,1,0.999485236453331,0.993380838306413,0.980175752436492,0.972535482371927,0.969220305244803,0.960269488327928,0.943735325474003,0.914478613894619,0.904961573315717,0.898897705411488,0.888897916908427],[10832,12061,10451,14730,13561,12314,11586,16262,14315,13200,11934,17733,15594,14872,24720,13452,21999,20699,18917,12158,10689,10707,15128,13389,13085,11913]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LHS<\/th>\n      <th>RHS<\/th>\n      <th>support<\/th>\n      <th>confidence<\/th>\n      <th>lift<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 7, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->


